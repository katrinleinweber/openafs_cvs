=head1 NAME

fs setcachesize - Sets the size of the disk cache

=head1 SYNOPSIS

fs setcachesize [B<-blocks> I<size in 1K byte blocks (0 =E<gt> reset)>]
[B<-reset>]  [B<-help>]

fs setca  [B<-b> I<size in 1K byte blocks (0 =E<gt> reset)>]  [B<-r>]  [B<-h>]

fs cachesize [B<-b> I<size in 1K byte blocks (0 =E<gt> reset)>]  [B<-r>]  [B<-h>]

fs ca [B<-b> I<size in 1K byte blocks (0 =E<gt> reset)>]  [B<-r>]  [B<-h>]

=head1 DESCRIPTION

The C<fs setcachesize> command changes the number of kilobyte blocks of
local disk space available to the Cache Manager for its data cache, on
machines that use a disk cache. The command is not operative on
machines that use a memory cache.

To return the cache size to the default value specified in the third
field of the local B</usr/vice/etc/cacheinfo> file, provide a value of B<0>
to the B<-blocks> argument.

To return the cache size to the value set when the machine was last
rebooted, use the B<-reset> flag instead of the B<-blocks> argument. This is
normally the amount specified in the B<cacheinfo> file, unless the
B<-blocks> argument was included on the C<afsd> command to override the
B<cacheinfo> value.

To display the current cache size and amount of cache in use, for both
disk and memory caches, use the C<fs getcacheparms> command.

=head1 OPTIONS

=over 4

=item B<-blocks> I<size in 1K byte blocks (0 =E<gt> reset)>

Specifies the number of one-kilobyte blocks of disk space
available for the Cache Manager to devote to the cache. Provide
a value of B<0> to set cache size to the default specified in the
B<cacheinfo> file.

=item B<-reset>

Returns the cache size to the value set when the machine was
last booted. This agrees with the value in the B<cacheinfo> file
unless the B<-blocks> argument was used on the C<afsd> command.

=item B<-help>

Prints the online help for this command. All other valid
options are ignored.

=back

=head1 EXAMPLES

The following command sets the disk cache size to 25000 kilobyte
blocks.

    fs setcachesize -blocks 25000

Both of the following commands reset the disk cache size to the value
in the B<cacheinfo> file, assuming that the B<-blocks> argument to the C<afsd>
command was not used.

    fs setcachesize -blocks 0

    fs setcachesize -reset

=head1 PRIVILEGE REQUIRED

The issuer must be logged in as the local superuser B<root>.

=head1 CAVEATS

This command is not operative on machines using a memory cache, and
results in an error message. To change memory cache size, edit the
B<cacheinfo> file and reboot, or reboot and provide the B<-blocks> argument
to the C<afsd> command.

On machines using a disk cache, do not set the cache size to exceed
85% to 90% of the actual disk space available for the cache directory.
The cache implementation itself requires a small amount of space on
the partition.

=head1 COPYRIGHT

IBM Corporation 2000. <http://www.ibm.com/> All Rights Reserved.

Converted from html to pod by Alf Wachsmann <alfw@slac.stanford.edu>, 2003,
and Elizabeth Cassell <e_a_c@mailsnare.net>, 2004,
Stanford Linear Accelerator Center, a department of Stanford University.

=head1 SEE ALSO

L<cacheinfo(1)>,
L<afsd(1)>,
L<fs_getcacheparms(1)>

=cut
