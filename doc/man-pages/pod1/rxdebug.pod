=head1 NAME

rxdebug - Provides debugging trace of Rx activity

=head1 SYNOPSIS

B<rxdebug -servers> <I<server machine>>  [B<-port> <I<IP port>>]  [-nodally]  
[B<-allconnections>]  [B<-rxstats>] [B<-onlyserver>]  [B<-onlyclient>]  
        [B<-onlyport> <I<show only <port>>>]  [-onlyhost <I<show only <host>>>]  
        [B<-onlyauth> <I<show only <auth level>>>]  [B<-version>]  [-noconns]  
        [B<-peers>]  [-help] 

B<rxdebug -s> <I<server machine>>  [B<-po> <I<IP port>>]  [B<-nod>]  [B<-a>]  [-r]  
[B<-onlys>]  [B<-onlyc>]   [B<-onlyp> <I<show only <port>>>]  
        [B<-onlyh> <I<show only <host>>>]  [-onlya <I<show only <auth level>>>]  
        [B<-v>]  [B<-noc>]  [B<-pe>]  [-h] 

=head1 DESCRIPTION

The rxdebug command provides a trace of Rx activity for the
server or client machine named by the B<-servers> argument. Rx
is AFS's proprietary remote procedure call (RPC) protocol, so this
command enables the issuer to check the status of communication between the
Cache Manager or an AFS server process (as specified with the B<-port>
argument) on the machine and one or more processes on other machines.

=head1 OPTIONS

=over 4

=item -servers

Specifies the machine that is running the Cache Manager or server process
for which to trace Rx activity. Provide the machine's IP address
in dotted decimal format, its fully qualified host name (for example,
B<fs1.abc.com>), or the shortest abbreviated form of its
host name that distinguishes it from other machines. Successful use of
an abbreviated form depends on the availability of a name resolution service
(such as the Domain Name Service or a local host table) at the time the
command is issued.

=item -port

Specifies the process for which to trace Rx activity. Omit this
argument to specify the File Server (B<fileserver> process), or
provide one of the following values:

=over 4


B<7000> for the File Server (fileserver process)


7001 for the Cache Manager (specifically, its callback
interface)


B<7002> for the Protection Server (ptserver process)


B<7003> for the Volume Location (VL) Server (vlserver
process)


B<7004> for the Authentication Server (kaserver
process)


B<7005> for the Volume Server (volserver process)


B<7007> for the BOS Server (bosserver process)


B<7008> for the Update Server (upserver process)


B<7009> for the NFS/AFS Translator's rmtsysd
daemon


B<7021> for the Backup Server (buserver process)


B<7025> through 65535 for the Backup Tape Coordinator
(B<butc> process) that has the port offset number derived by
subtracting 7025 from this value

=back

=item -nodally

Produces output only for connections that are not in dally mode.

=item -allconnections

Produces output for all connections, even inactive ones. By
default, the output includes information only for connections that are active
or in dally mode when the B<rxdebug> command is issued.

=item -rxstats

Produces detailed statistics about Rx history and performance (for
example, counts of the number of packets of various types the process has read
and sent, calculations of average and minimum roundtrip time, and so
on).

=item -onlyserver

Produces output only for connections in which the process designated by
the B<-port> argument is acting as the server.

=item -onlyclient

Produces output only for connections in which the process designated by
the B<-port> argument is acting as the client.

=item -onlyport

Produces output only for connections between the process designated by the
B<-port> argument and the specified port on any another
machine. Use the same port identifiers as for the B<-port>
argument.

=item -onlyhost

Produces output only for connections between the process designated by the
B<-port> argument and any process on the specified machine. To
identify the machine, use the same notation as for the B<-servers>
argument.

=item -onlyauth

Produces output only for connections that are using the specified
authentication level. Provide one of the following values:

=over 4

=item *

auth for connections at authentication level
B<rxkad_auth>


=item *

clear for connections at authentication level
B<rxkad_clear>


=item *

crypt for connections at authentication level
B<rxkad_crypt>


=item *

none for unauthenticated connections (equivalents are
B<null>, B<noauth>, and B<unauth>)


=back

=item -version

Reports the AFS build level of the binary file for the process designated
by the B<-port> argument (or of the kernel extensions file for port
7001, the Cache Manager's callback interface). Any other options
combined with this one are ignored.

=item -noconns

Produces only the standard statistics that begin the output produced by
every option (other than B<-version>), without reporting on any
connections. Any other options combined with this one are
ignored.

=item -peers

Outputs information from the I<peer structure> maintained for each
port on another machine to which the process designated by the
B<-port> argument has a connection. There is information about
roundtrip time and numbers of packets sent and received, for example.

=item -help

Prints the online help for this command. All other valid options
are ignored.

=back

=head1 OUTPUT

If any options other than B<-version> or -help are
provided, the output written to the standard output stream begins with basic
statistics about packet usage and availability, how many calls are waiting for
a thread, how many threads are free, and so on (this is the only information
provided by the B<-noconns> flag). Adding other options
produces additional information as described in the preceding
B<Options> section of this reference page. The output is
intended for debugging purposes and is meaningful to someone familiar with the
implementation of Rx.

=head1 PRIVILEGE REQUIRED

None.

=head1 SEE ALSO

L<afsd(1)>,
L<bosserver(1)>,
L<buserver(1)>,
L<butc(1)>,
L<fileserver(1)>,
L<kaserver(1)>,
L<ptserver(1)>,
L<upclient(1)>,
L<upserver(1)>,
L<vlserver(1)>,
L<volserver(1)>

=head1 COPYRIGHT

IBM Corporation 2000. <http://www.ibm.com/> All Rights Reserved.

This documentation is covered by the IBM Public License Version 1.0.  It was
converted from HTML to POD by software written by Chas Williams and Russ
Allbery, based on work by Alf Wachsmann and Elizabeth Cassell.
