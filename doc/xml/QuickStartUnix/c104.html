<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML
><HEAD
><TITLE
>Installation Overview</TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.7"><LINK
REL="HOME"
TITLE="AFS Quick Beginnings"
HREF="book1.html"><LINK
REL="PREVIOUS"
TITLE="About This Guide"
HREF="f24.html"><LINK
REL="NEXT"
TITLE="Installing the First AFS Machine"
HREF="c371.html"></HEAD
><BODY
CLASS="chapter"
BGCOLOR="#FFFFFF"
TEXT="#000000"
LINK="#0000FF"
VLINK="#840084"
ALINK="#0000FF"
><DIV
CLASS="NAVHEADER"
><TABLE
SUMMARY="Header navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TH
COLSPAN="3"
ALIGN="center"
>AFS Quick Beginnings: Version 3.6</TH
></TR
><TR
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="bottom"
><A
HREF="f24.html"
ACCESSKEY="P"
>Prev</A
></TD
><TD
WIDTH="80%"
ALIGN="center"
VALIGN="bottom"
></TD
><TD
WIDTH="10%"
ALIGN="right"
VALIGN="bottom"
><A
HREF="c371.html"
ACCESSKEY="N"
>Next</A
></TD
></TR
></TABLE
><HR
ALIGN="LEFT"
WIDTH="100%"></DIV
><DIV
CLASS="chapter"
><H1
><A
NAME="HDRWQ6"
></A
>Chapter 1. Installation Overview</H1
><P
>This chapter describes the type of instructions provided in this guide and the hardware and software requirements for
  installing AFS<SUP
>(R)</SUP
>.</P
><P
>Before beginning the installation of your cell's first machine, read this chapter and the material from the <SPAN
CLASS="emphasis"
><I
CLASS="emphasis"
>IBM
  AFS Administration Guide</I
></SPAN
> listed in <A
HREF="c104.html#HDRWQ8"
>Recommended Reading List</A
>. It is also best to read
  through <A
HREF="c371.html"
>Installing the First AFS Machine</A
> before beginning the installation, so that you understand
  the overall scope of the installation procedure. Similarly, before installing additional server or client machines it is best to
  read through <A
HREF="c5467.html"
>Installing Additional Server Machines</A
> and <A
HREF="c8044.html"
>Installing
  Additional Client Machines</A
>.</P
><P
>If you are already running a version of AFS, consult the upgrade instructions in the <SPAN
CLASS="emphasis"
><I
CLASS="emphasis"
>IBM AFS Release
  Notes</I
></SPAN
> or contact the AFS Product Support group before proceeding with the installation.</P
><DIV
CLASS="sect1"
><H1
CLASS="sect1"
><A
NAME="HDRWQ7"
>The Procedures Described in this Guide</A
></H1
><P
>This guide describes two types of installation procedures: initial procedures (such as installing the first AFS machine or
    incorporating AFS into the kernel) and as-needed procedures (such as installing additional server machines or client
    machines).</P
><DIV
CLASS="sect2"
><H2
CLASS="sect2"
><A
NAME="Header_9"
>Required Initial Procedures</A
></H2
><P
>You must perform the following basic procedures to start using AFS.</P
><DIV
CLASS="sect3"
><H3
CLASS="sect3"
><A
NAME="Header_10"
>Incorporating AFS Into the Kernel</A
></H3
><P
>You must incorporate AFS modifications into the kernel of every AFS file server and client machine. Depending on the
        operating system, you either use a program for dynamic kernel loading, build a new static kernel, or can choose between the
        two. For your convenience, the instructions for incorporating AFS into the kernel appear in full in every chapter where you
        need to use them.  </P
></DIV
><DIV
CLASS="sect3"
><H3
CLASS="sect3"
><A
NAME="Header_11"
>Installing the First AFS Machine</A
></H3
><P
>You install the first AFS machine in your cell to function as both an AFS server and client machine. You can disable
        the client functionality after completing the installation, if you wish.</P
><P
>The first server machine in a cell performs several functions: <UL
><LI
><P
>It acts as the <SPAN
CLASS="emphasis"
><I
CLASS="emphasis"
>system control machine</I
></SPAN
> (if your AFS distribution includes the required
              encryption files), distributing certain configuration files to the other server machines in the cell</P
></LI
><LI
><P
>It acts as the <SPAN
CLASS="emphasis"
><I
CLASS="emphasis"
>binary distribution machine</I
></SPAN
> for its system type, distributing AFS binaries
              to other server machines of its system type</P
></LI
><LI
><P
>It acts as the first <SPAN
CLASS="emphasis"
><I
CLASS="emphasis"
>database server machine</I
></SPAN
>, running the server processes that maintain
              the AFS administrative databases</P
></LI
></UL
></P
><P
>After you install server and client functionality, you complete other procedures specific to the first machine,
        including setting up the top levels of your cell's AFS filespace.</P
></DIV
></DIV
><DIV
CLASS="sect2"
><H2
CLASS="sect2"
><A
NAME="Header_12"
>As-needed Procedures</A
></H2
><DIV
CLASS="sect3"
><H3
CLASS="sect3"
><A
NAME="Header_13"
>Upgrading the Operating System</A
></H3
><P
>Upgrading the operating system requires you to take several steps to protect data and AFS-modified binaries from being
        lost or overwritten. For guidelines, see <A
HREF="c104.html#HDRWQ14"
>About Upgrading the Operating System</A
>.</P
></DIV
><DIV
CLASS="sect3"
><H3
CLASS="sect3"
><A
NAME="Header_14"
>Installing Additional File Server Machines</A
></H3
><P
>See <A
HREF="c5467.html#HDRWQ100"
>Installing an Additional File Server Machine</A
>.</P
></DIV
><DIV
CLASS="sect3"
><H3
CLASS="sect3"
><A
NAME="Header_15"
>Configuring or Decommissioning Database Server Machines</A
></H3
><P
>See <A
HREF="c5467.html#HDRWQ114"
>Installing Database Server Functionality</A
> and <A
HREF="c5467.html#HDRWQ125"
>Removing
        Database Server Functionality</A
>.</P
></DIV
><DIV
CLASS="sect3"
><H3
CLASS="sect3"
><A
NAME="Header_16"
>Installing Additional AFS Client Machines</A
></H3
><P
>See <A
HREF="c8044.html"
>Installing Additional Client Machines</A
>.</P
></DIV
><DIV
CLASS="sect3"
><H3
CLASS="sect3"
><A
NAME="Header_17"
>Building AFS from Source Code</A
></H3
><P
>See <A
HREF="a10401.html"
>Appendix A, Building AFS from Source Code</A
>.  </P
></DIV
></DIV
></DIV
><DIV
CLASS="sect1"
><H1
CLASS="sect1"
><A
NAME="HDRWQ8"
>Recommended Reading List</A
></H1
><P
>To develop the best understanding of the overall scope of an installation procedure, read through the entire chapter or
    section that describes it before performing any actions.</P
><P
>In addition, familiarity with some basic AFS concepts can make the installation more efficient, because you understand
    better the purpose of the steps. The following is a prioritized list of material to read before installing the first AFS
    machine. At minimum, read the first chapter of the <SPAN
CLASS="emphasis"
><I
CLASS="emphasis"
>IBM AFS Administration Guide</I
></SPAN
>. Then continue your reading
    in the indicated order, as extensively as you can. It is more important at this point to read the conceptual material in each
    section than the instructions.</P
><P
><SPAN
CLASS="bold"
><B
CLASS="emphasis"
>Selected Topics in the <SPAN
CLASS="emphasis"
><I
CLASS="emphasis"
>IBM AFS Administration Guide</I
></SPAN
></B
></SPAN
> <UL
><LI
><P
>The chapter titled <SPAN
CLASS="emphasis"
><I
CLASS="emphasis"
>An Overview of AFS Administration</I
></SPAN
></P
></LI
><LI
><P
>Selected sections in the <SPAN
CLASS="emphasis"
><I
CLASS="emphasis"
>Administering Server Machines</I
></SPAN
> chapter: <SPAN
CLASS="emphasis"
><I
CLASS="emphasis"
>Local Disk Files on a
          Server Machine</I
></SPAN
>, <SPAN
CLASS="emphasis"
><I
CLASS="emphasis"
>The Four Roles for a Server Machine</I
></SPAN
>, <SPAN
CLASS="emphasis"
><I
CLASS="emphasis"
>Maintaining the Server
          CellServDB File</I
></SPAN
></P
></LI
><LI
><P
>Selected sections in the <SPAN
CLASS="emphasis"
><I
CLASS="emphasis"
>Monitoring and Controlling Server Processes</I
></SPAN
> chapter:
          <SPAN
CLASS="emphasis"
><I
CLASS="emphasis"
>Controlling and Checking Process Status</I
></SPAN
></P
></LI
><LI
><P
>Selected sections in the <SPAN
CLASS="emphasis"
><I
CLASS="emphasis"
>Managing Server Encryption Keys</I
></SPAN
> chapter: <SPAN
CLASS="emphasis"
><I
CLASS="emphasis"
>About Server
          Encryption Keys</I
></SPAN
></P
></LI
><LI
><P
>Selected sections in the <SPAN
CLASS="emphasis"
><I
CLASS="emphasis"
>Managing Volumes</I
></SPAN
> chapter: <SPAN
CLASS="emphasis"
><I
CLASS="emphasis"
>About Volumes</I
></SPAN
>,
          <SPAN
CLASS="emphasis"
><I
CLASS="emphasis"
>Creating Read/write Volumes</I
></SPAN
>, <SPAN
CLASS="emphasis"
><I
CLASS="emphasis"
>Clones and Cloning</I
></SPAN
>, <SPAN
CLASS="emphasis"
><I
CLASS="emphasis"
>Mounting
          Volumes</I
></SPAN
></P
></LI
><LI
><P
>Selected sections in the <SPAN
CLASS="emphasis"
><I
CLASS="emphasis"
>Administering Client Machines and the Cache Manager</I
></SPAN
> chapter:
          <SPAN
CLASS="emphasis"
><I
CLASS="emphasis"
>Overview of Cache Manager Customization</I
></SPAN
>, <SPAN
CLASS="emphasis"
><I
CLASS="emphasis"
>Configuration and Cache-related Files on the Local
          Disk</I
></SPAN
>, <SPAN
CLASS="emphasis"
><I
CLASS="emphasis"
>Determining the Cache Type, Size, and Location</I
></SPAN
></P
></LI
><LI
><P
>Selected sections in the <SPAN
CLASS="emphasis"
><I
CLASS="emphasis"
>Managing Access Control Lists</I
></SPAN
> chapter: <SPAN
CLASS="emphasis"
><I
CLASS="emphasis"
>Protecting Data in
          AFS</I
></SPAN
></P
></LI
></UL
></P
><P
><SPAN
CLASS="bold"
><B
CLASS="emphasis"
>More Selected Topics in the <SPAN
CLASS="emphasis"
><I
CLASS="emphasis"
>IBM AFS Administration Guide</I
></SPAN
></B
></SPAN
>
    <UL
><LI
><P
>Selected sections in the <SPAN
CLASS="emphasis"
><I
CLASS="emphasis"
>Managing Volumes</I
></SPAN
> chapter: <SPAN
CLASS="emphasis"
><I
CLASS="emphasis"
>Creating and Releasing Read-only
          Volumes (Replication)</I
></SPAN
>, <SPAN
CLASS="emphasis"
><I
CLASS="emphasis"
>Creating Backup Volumes</I
></SPAN
></P
></LI
><LI
><P
>Selected sections in the <SPAN
CLASS="emphasis"
><I
CLASS="emphasis"
>Administering the Protection Database</I
></SPAN
> chapter: <SPAN
CLASS="emphasis"
><I
CLASS="emphasis"
>About the
          Protection Database</I
></SPAN
></P
></LI
><LI
><P
>Selected sections in the <SPAN
CLASS="emphasis"
><I
CLASS="emphasis"
>Administering User Accounts</I
></SPAN
> chapter: <SPAN
CLASS="emphasis"
><I
CLASS="emphasis"
>The Components of an
          AFS User Account</I
></SPAN
></P
></LI
><LI
><P
>Selected sections in the <SPAN
CLASS="emphasis"
><I
CLASS="emphasis"
>Managing Administrative Privilege</I
></SPAN
> chapter: <SPAN
CLASS="emphasis"
><I
CLASS="emphasis"
>An Overview of
          Administrative Privilege</I
></SPAN
></P
></LI
></UL
></P
></DIV
><DIV
CLASS="sect1"
><H1
CLASS="sect1"
><A
NAME="HDRWQ9"
>Requirements</A
></H1
><P
>You must comply with the following requirements to install AFS successfully. </P
><DIV
CLASS="sect2"
><H2
CLASS="sect2"
><A
NAME="Header_20"
>Login Identity</A
></H2
><P
>Log into the machine you are installing as the local superuser <SPAN
CLASS="bold"
><B
CLASS="emphasis"
>root</B
></SPAN
>. When instructed,
      also authenticate with AFS as the administrative user <SPAN
CLASS="bold"
><B
CLASS="emphasis"
>admin</B
></SPAN
>.  </P
></DIV
><DIV
CLASS="sect2"
><H2
CLASS="sect2"
><A
NAME="HDRWQ10"
>General Requirements</A
></H2
><UL
><LI
><P
>You must have the AFS Binary Distribution for each system type you are installing. Unless otherwise noted, the
          Binary Distribution includes software for both client and server machines. If you are using the CD-ROM version of the
          distribution, the machine you are installing must be able to access the CD-ROMs, either through a local CD drive or via an
          NFS<SUP
>(R)</SUP
> mount of a CD drive attached to a machine that is accessible by network.</P
></LI
><LI
><P
>All AFS machines that belong to a cell must be able to access each other via the network.</P
></LI
><LI
><P
>The machine must be running the standard, vendor-supplied version of the operating system supported by the current
          version of AFS. The operating system must already be installed on the machine's root partition.</P
></LI
><LI
><P
>You must be familiar with the current operating system and disk configuration of the machine you are
          installing.</P
></LI
><LI
><P
>All hardware and non-AFS software on the machine must be functioning normally.</P
></LI
><LI
><P
>No critical processes can be running on the machine you are installing, because you must reboot it during the
          installation.</P
></LI
></UL
></DIV
><DIV
CLASS="sect2"
><H2
CLASS="sect2"
><A
NAME="HDRWQ11"
>File Server Machine Requirements</A
></H2
><UL
><LI
><P
>Cell configuration is simplest if the first machine you install has the lowest IP address of any database server
          machine you currently plan to install. If you later configure a machine with a lower IP address as a database server
          machine, you must update the <SPAN
CLASS="bold"
><B
CLASS="emphasis"
>/usr/vice/etc/CellServDB</B
></SPAN
> file on all of your cell's client
          machines before the installation. For further discussion, see <A
HREF="c5467.html#HDRWQ114"
>Installing Database Server
          Functionality</A
>.</P
></LI
><LI
><P
>The partition mounted on the <SPAN
CLASS="bold"
><B
CLASS="emphasis"
>/usr</B
></SPAN
> directory must have at least 18 MB of disk space
          available for storing the AFS server binaries (stored by convention in the <SPAN
CLASS="bold"
><B
CLASS="emphasis"
>/usr/afs/bin</B
></SPAN
>
          directory). If the machine is also a client, there must be additional local disk space available, as specified in <A
HREF="c104.html#HDRWQ12"
>Client Machine Requirements</A
>. The complete set of AFS binaries requires yet more space, but they
          are normally stored in an AFS volume rather than on a machine's local disk.</P
><P
>More significant amounts of space on the partition are required by the administrative databases stored in the
          <SPAN
CLASS="bold"
><B
CLASS="emphasis"
>/usr/afs/db</B
></SPAN
> directory and the server process log files stored in the <SPAN
CLASS="bold"
><B
CLASS="emphasis"
>/usr/afs/logs</B
></SPAN
> directory. The exact requirement depends on many factors, such as the size of your
          cell and how often you truncate the log files.</P
></LI
><LI
><P
>There must be at least one partition (or logical volume, if the operating system and AFS support them) dedicated
          exclusively to storing AFS volumes. The total number and size of server partitions on all file server machines in the cell
          determines how much space is available for AFS files.</P
></LI
></UL
></DIV
><DIV
CLASS="sect2"
><H2
CLASS="sect2"
><A
NAME="HDRWQ12"
>Client Machine Requirements</A
></H2
><UL
><LI
><P
>The partition mounted on the <SPAN
CLASS="bold"
><B
CLASS="emphasis"
>/usr</B
></SPAN
> directory must have at least 4 MB of disk space
          available for storing the AFS client binaries and kernel library files (stored by convention in the <SPAN
CLASS="bold"
><B
CLASS="emphasis"
>/usr/vice/etc</B
></SPAN
> directory). The complete set of AFS binaries requires more space, but they are
          normally stored in an AFS volume rather than on a machine's local disk. For most system types, the instructions have you
          copy only the one kernel library file appropriate for the machine you are installing. If you choose to store all of the
          library files on the local disk, the space requirement can be significantly greater.</P
></LI
><LI
><P
>On a client machine that uses a disk cache, there must be enough free space on the cache partition (by convention,
          mounted on the <SPAN
CLASS="bold"
><B
CLASS="emphasis"
>/usr/vice/cache</B
></SPAN
> directory) to accommodate the cache. The minimum
          recommended cache size is 10 MB, but larger caches generally perform better.</P
></LI
><LI
><P
>On a client machine that uses a memory cache, there must be at least 5 MB of machine memory to devote to caching,
          but again more memory generally leads to better performance. For further discussion, see the sections in <A
HREF="c8044.html"
>Installing Additional Client Machines</A
> about configuring the cache.</P
></LI
></UL
></DIV
></DIV
><DIV
CLASS="sect1"
><H1
CLASS="sect1"
><A
NAME="HDRWQ13"
>Supported System Types</A
></H1
><P
>The <SPAN
CLASS="emphasis"
><I
CLASS="emphasis"
>IBM AFS Release Notes</I
></SPAN
> for each AFS release list the supported system types. Support for
    subsequent revisions of an operating system often becomes available between AFS releases. The AFS Product Support group can
    provide details.</P
><P
>It is the goal of the AFS Development and Product Support groups to support AFS on a wide range of popular system types.
    Furthermore, each time an operating system vendor releases a new general availability version of a supported operating system,
    it is a goal to certify and support AFS on it within a short time. Support can be delayed a bit longer if it is necessary to
    generate completely new binaries.</P
><P
>It is not always possible to support AFS on every intermediate version of an operating system or for certain processor
    types. In some cases, platform limitations make certain AFS functionality (such as file server or NFS/AFS translator
    functionality) unavailable on one or more platforms. For a list of limitations, see the <SPAN
CLASS="emphasis"
><I
CLASS="emphasis"
>IBM AFS Release
    Notes</I
></SPAN
> or ask the AFS Product Support group.    </P
></DIV
><DIV
CLASS="sect1"
><H1
CLASS="sect1"
><A
NAME="HDRWQ14"
>About Upgrading the Operating System</A
></H1
><P
>Whenever you upgrade an AFS machine to a different operating system, you must take several actions to maintain proper AFS
    functionality. These actions include, but are not necessarily limited to, the following. <UL
><LI
><P
>Unmount the AFS server partitions (mounted at <SPAN
CLASS="bold"
><B
CLASS="emphasis"
>/vicep</B
></SPAN
><VAR
CLASS="replaceable"
>xx</VAR
>
          directories) on all file server machines, to prevent the vendor-supplied <SPAN
CLASS="bold"
><B
CLASS="emphasis"
>fsck</B
></SPAN
> program
          from running on them when you reboot the machine during installation of the new operating system. Before upgrading the
          operating system, it is prudent to comment out commands in the machine's initialization file that remount the server
          partitions, to prevent them from being remounted until you can replace the standard <SPAN
CLASS="bold"
><B
CLASS="emphasis"
>fsck</B
></SPAN
>
          program with the AFS-modified version. The instructions in this guide for installing AFS server machines explain how to
          replace the <SPAN
CLASS="bold"
><B
CLASS="emphasis"
>fsck</B
></SPAN
> program.</P
></LI
><LI
><P
>Protect the AFS-modified versions of commands and configuration files from being overwritten by vendor-supplied
          versions. These include <SPAN
CLASS="bold"
><B
CLASS="emphasis"
>vfsck</B
></SPAN
> (the AFS version of <SPAN
CLASS="bold"
><B
CLASS="emphasis"
>fsck</B
></SPAN
>),
          binaries for the UNIX remote services such as <SPAN
CLASS="bold"
><B
CLASS="emphasis"
>inetd</B
></SPAN
>, and configuration files such as the
          one for the Pluggable Authentication Module (PAM). After you have successfully installed the operating system, remember to
          move the AFS-modified commands and files back to the locations where they are accessed during normal functioning.</P
></LI
><LI
><P
>Reformat the server partitions to accommodate AFS-specific information, in certain cases. The upgrade instructions
          that accompany the new AFS binaries for an affected platform always detail the required procedure.</P
></LI
></UL
></P
></DIV
><DIV
CLASS="sect1"
><H1
CLASS="sect1"
><A
NAME="HDRWQ15"
>The AFS Binary Distribution</A
></H1
><P
>The AFS Binary Distribution includes a separate CD-ROM for each supported system type, containing all AFS binaries and
    files for both server and client machines. The instructions in this guide specify when to mount the CD-ROM and which files or
    directories to copy to the local disk or into an AFS volume.</P
></DIV
><DIV
CLASS="sect1"
><H1
CLASS="sect1"
><A
NAME="HDRWQ16"
>How to Continue</A
></H1
><P
>If you are installing the first AFS machine in your cell, proceed to <A
HREF="c371.html"
>Installing the First AFS
    Machine</A
>.</P
><P
>If you are installing an additional file server machine, or configuring or decommissioning a database server machine,
    proceed to <A
HREF="c5467.html"
>Installing Additional Server Machines</A
>.</P
><P
>If you are installing an additional client machine, proceed to <A
HREF="c8044.html"
>Installing Additional Client
    Machines</A
>.</P
></DIV
></DIV
><DIV
CLASS="NAVFOOTER"
><HR
ALIGN="LEFT"
WIDTH="100%"><TABLE
SUMMARY="Footer navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
><A
HREF="f24.html"
ACCESSKEY="P"
>Prev</A
></TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="book1.html"
ACCESSKEY="H"
>Home</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
><A
HREF="c371.html"
ACCESSKEY="N"
>Next</A
></TD
></TR
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
>About This Guide</TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
>&nbsp;</TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
>Installing the First AFS Machine</TD
></TR
></TABLE
></DIV
></BODY
></HTML
>