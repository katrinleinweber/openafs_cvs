<?xml version="1.0" encoding="UTF-8"?>
<refentry id="vos_unlockvldb1">
  <refmeta>
    <refentrytitle>vos unlockvldb</refentrytitle>
    <manvolnum>1</manvolnum>
  </refmeta>
  <refnamediv>
    <refname>vos unlockvldb</refname>
    <refpurpose>Unlocks several locked VLDB entries</refpurpose>
  </refnamediv>
  <refsect1>
    <title>Synopsis</title>
    <para><emphasis role="bold">vos unlockvldb</emphasis> [<emphasis role="bold">-server</emphasis> &lt;<emphasis>machine name</emphasis>&gt;]
        [<emphasis role="bold">-partition</emphasis> &lt;<emphasis>partition name</emphasis>&gt;] [<emphasis role="bold">-cell</emphasis> &lt;<emphasis>cell name</emphasis>&gt;]
        [<emphasis role="bold">-noauth</emphasis>] [<emphasis role="bold">-localauth</emphasis>] [<emphasis role="bold">-verbose</emphasis>] [<emphasis role="bold">-help</emphasis>]</para>

    <para><emphasis role="bold">vos unlockv</emphasis> [<emphasis role="bold">-s</emphasis> &lt;<emphasis>machine name</emphasis>&gt;] [<emphasis role="bold">-p</emphasis> &lt;<emphasis>partition name</emphasis>&gt;]
        [<emphasis role="bold">-c</emphasis> &lt;<emphasis>cell name</emphasis>&gt;] [<emphasis role="bold">-n</emphasis>] [<emphasis role="bold">-l</emphasis>] [<emphasis role="bold">-v</emphasis>] [<emphasis role="bold">-h</emphasis>]</para>

  </refsect1>
  <refsect1>
    <title>Description</title>
    <para>The <emphasis role="bold">vos unlockvldb</emphasis> command releases the lock on the Volume Location
    Database (VLDB) entries indicated by the combination of arguments
    provided:</para>

    <itemizedlist>
      <listitem>
        <para>To unlock all entries in the VLDB, provide no arguments.</para>

      </listitem>
      <listitem>
        <para>To unlock all entries that mention a file server machine in a site
        definition, provide its name with the <emphasis role="bold">-server</emphasis> argument.</para>

      </listitem>
      <listitem>
        <para>To unlock all entries that mention a partition on any file server machine
        in a site definition, provide the partition name with the <emphasis role="bold">-partition</emphasis>
        argument.</para>

      </listitem>
      <listitem>
        <para>To unlock all entries that mention a specific site, provide both the
        <emphasis role="bold">-server</emphasis> and <emphasis role="bold">-partition</emphasis> arguments.</para>

      </listitem>
    </itemizedlist>
    <para>To unlock a single volume, use the <emphasis role="bold">vos unlock</emphasis> command instead.</para>

  </refsect1>
  <refsect1>
    <title>Cautions</title>
    <para>Do not use this command under normal circumstances.</para>

    <para>It is useful if VLDB entries for volumes at a certain site are locked but
    there is no reason to suspect inconsistency within the volume or between
    it and the VLDB. Note that it is possible to list information from locked
    VLDB entries, even though they cannot be manipulated in other ways.</para>

    <para>The <emphasis role="bold">vos lock</emphasis> command locks a VLDB entry so that no one else can perform
    an action that requires writing the VLDB.</para>

  </refsect1>
  <refsect1>
    <title>Options</title>
    <variablelist>
      <varlistentry>
        <term><emphasis role="bold">-server</emphasis> &lt;<emphasis>server name</emphasis>&gt;</term>
        <listitem>
          <para>Identifies the file server machine for which to unlock VLDB
          entries. Provide the machine's IP address or its host name (either fully
          qualified or using an unambiguous abbreviation). For details, see
          <link linkend="vos1">vos(1)</link>.</para>

        </listitem>
      </varlistentry>
      <varlistentry>
        <term><emphasis role="bold">-partition</emphasis> &lt;<emphasis>partition name</emphasis>&gt;</term>
        <listitem>
          <para>Identifies the partition (on the file server machine specified by the
          <emphasis role="bold">-server</emphasis> argument) for which to unlock VLDB entries. Provide the
          partition's complete name with preceding slash (for example, <computeroutput>/vicepa</computeroutput>)
          or use one of the three acceptable abbreviated forms. For details, see
          <link linkend="vos1">vos(1)</link>.</para>

        </listitem>
      </varlistentry>
      <varlistentry>
        <term><emphasis role="bold">-cell</emphasis> &lt;<emphasis>cell name</emphasis>&gt;</term>
        <listitem>
          <para>Names the cell in which to run the command. Do not combine this argument
          with the <emphasis role="bold">-localauth</emphasis> flag. For more details, see <link linkend="vos1">vos(1)</link>.</para>

        </listitem>
      </varlistentry>
      <varlistentry>
        <term><emphasis role="bold">-noauth</emphasis></term>
        <listitem>
          <para>Assigns the unprivileged identity <computeroutput>anonymous</computeroutput> to the issuer. Do not
          combine this flag with the <emphasis role="bold">-localauth</emphasis> flag. For more details, see
          <link linkend="vos1">vos(1)</link>.</para>

        </listitem>
      </varlistentry>
      <varlistentry>
        <term><emphasis role="bold">-localauth</emphasis></term>
        <listitem>
          <para>Constructs a server ticket using a key from the local
          <replaceable>/usr/afs/etc/KeyFile</replaceable> file. The <emphasis role="bold">vos</emphasis> command interpreter presents it
          to the Volume Server and Volume Location Server during mutual
          authentication. Do not combine this flag with the <emphasis role="bold">-cell</emphasis> argument or
          <emphasis role="bold">-noauth</emphasis> flag. For more details, see <link linkend="vos1">vos(1)</link>.</para>

        </listitem>
      </varlistentry>
      <varlistentry>
        <term><emphasis role="bold">-verbose</emphasis></term>
        <listitem>
          <para>Produces on the standard output stream a detailed trace of the command's
          execution. If this argument is omitted, only warnings and error messages
          appear.</para>

        </listitem>
      </varlistentry>
      <varlistentry>
        <term><emphasis role="bold">-help</emphasis></term>
        <listitem>
          <para>Prints the online help for this command. All other valid options are
          ignored.</para>

        </listitem>
      </varlistentry>
    </variablelist>
  </refsect1>
  <refsect1>
    <title>Examples</title>
    <para>The following command unlocks all locked entries in the VLDB.</para>

<programlisting>
   % vos unlockvldb

</programlisting>
      <para>The following command unlocks all locked VLDB entries that mention the
      <replaceable>/vicepa</replaceable> partition in a site definition.</para>

<programlisting>
   % vos unlockvldb -partition a

</programlisting>
        <para>The following command unlocks all locked VLDB entries that refer to
        volumes on the <replaceable>/vicepc</replaceable> partition of the file server machine
        <computeroutput>fs3.abc.com</computeroutput>.</para>

<programlisting>
   % vos unlockvldb -server fs3.abc.com -partition c

</programlisting>
        </refsect1>
        <refsect1>
          <title>Privilege Required</title>
          <para>The issuer must be listed in the <replaceable>/usr/afs/etc/UserList</replaceable> file on the
          machine specified with the <emphasis role="bold">-server</emphasis> argument and on each database server
          machine. If the <emphasis role="bold">-localauth</emphasis> flag is included, the issuer must instead be
          logged on to a server machine as the local superuser <computeroutput>root</computeroutput>.</para>

        </refsect1>
        <refsect1>
          <title>See Also</title>
          <para><link linkend="vos1">vos(1)</link>,
          <link linkend="vos_lock1">vos_lock(1)</link>,
          <link linkend="vos_unlock1">vos_unlock(1)</link></para>

        </refsect1>
        <refsect1>
          <title>Copyright</title>
          <para>IBM Corporation 2000. &lt;http://www.ibm.com/&gt; All Rights Reserved.</para>

          <para>This documentation is covered by the IBM Public License Version 1.0.  It was
          converted from HTML to POD by software written by Chas Williams and Russ
          Allbery, based on work by Alf Wachsmann and Elizabeth Cassell.</para>

        </refsect1>
      </refentry>
