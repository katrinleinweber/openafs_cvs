<?xml version="1.0" encoding="UTF-8"?>
<refentry id="fs_flush1">
  <refmeta>
    <refentrytitle>fs flush</refentrytitle>
    <manvolnum>1</manvolnum>
  </refmeta>
  <refnamediv>
    <refname>fs flush</refname>
    <refpurpose>Forces the Cache Manager to discard a cached file or directory</refpurpose>
  </refnamediv>
  <refsect1>
    <title>Synopsis</title>
    <para><emphasis role="bold">fs flush</emphasis> [<emphasis role="bold">-path</emphasis> &lt;<emphasis>dir/file path</emphasis>&gt;+] [<emphasis role="bold">-help</emphasis>]</para>

    <para><emphasis role="bold">fs flush</emphasis> [<emphasis role="bold">-p</emphasis> &lt;<emphasis>dir/file path</emphasis>&gt;+] [<emphasis role="bold">-h</emphasis>]</para>

  </refsect1>
  <refsect1>
    <title>Description</title>
    <para>The <emphasis role="bold">fs flush</emphasis> command removes from the cache all data and status
    information associated with each specified file or directory. The next
    time an application requests data from the flushed directory or file, the
    Cache Manager fetches the most current version from a File Server, along
    with a new callback (if necessary) and associated status information. This
    command has no effect on two types of data:</para>

    <itemizedlist>
      <listitem>
        <para>Data in application program buffers.</para>

      </listitem>
      <listitem>
        <para>Data that has been changed locally and written to the cache but not yet
        written to the copy on the file server machine.</para>

      </listitem>
    </itemizedlist>
    <para>To flush all data in the cache that was fetched from the same volume as a
    specified file or directory, use the <emphasis role="bold">fs flushvolume</emphasis> command.  To flush
    a corrupted mount point, use the <emphasis role="bold">fs flushmount</emphasis> command.</para>

  </refsect1>
  <refsect1>
    <title>Options</title>
    <variablelist>
      <varlistentry>
        <term><emphasis role="bold">-path</emphasis> &lt;<emphasis>dir/file path</emphasis>&gt;+</term>
        <listitem>
          <para>Names each file or directory to flush from the cache. If it is a
          directory, only the directory element itself is flushed, not data cached
          from files or subdirectories that reside in it. Partial pathnames are
          interpreted relative to the current working directory, which is also the
          default value if this argument is omitted.</para>

        </listitem>
      </varlistentry>
      <varlistentry>
        <term><emphasis role="bold">-help</emphasis></term>
        <listitem>
          <para>Prints the online help for this command. All other valid options are
          ignored.</para>

        </listitem>
      </varlistentry>
    </variablelist>
  </refsect1>
  <refsect1>
    <title>Examples</title>
    <para>The following command flushes from the cache the file <computeroutput>projectnotes</computeroutput> in
    the current working directory and all data from the subdirectory <computeroutput>plans</computeroutput>:</para>

<programlisting>
   % fs flush -path projectnotes ./plans/*

</programlisting>
    </refsect1>
    <refsect1>
      <title>Privilege Required</title>
      <para>The issuer must have the <computeroutput>l</computeroutput> (lookup) permission on the ACL of the root
      directory of the volume that houses the file or directory named by the
      <emphasis role="bold">-path</emphasis> argument, and on the ACL of each directory that precedes it in
      the pathname.</para>

    </refsect1>
    <refsect1>
      <title>See Also</title>
      <para><link linkend="fs_flushmount1">fs_flushmount(1)</link>,
      <link linkend="fs_flushvolume1">fs_flushvolume(1)</link></para>

    </refsect1>
    <refsect1>
      <title>Copyright</title>
      <para>IBM Corporation 2000. &lt;http://www.ibm.com/&gt; All Rights Reserved.</para>

      <para>This documentation is covered by the IBM Public License Version 1.0.  It was
      converted from HTML to POD by software written by Chas Williams and Russ
      Allbery, based on work by Alf Wachsmann and Elizabeth Cassell.</para>

    </refsect1>
  </refentry>
