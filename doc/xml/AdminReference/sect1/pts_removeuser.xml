<?xml version="1.0" encoding="UTF-8"?>
<refentry id="pts_removeuser1">
  <refmeta>
    <refentrytitle>pts removeuser</refentrytitle>
    <manvolnum>1</manvolnum>
  </refmeta>
  <refnamediv>
    <refname>pts removeuser</refname>
    <refpurpose>Removes a user from a Protection Database group</refpurpose>
  </refnamediv>
  <refsect1>
    <title>Synopsis</title>
    <para><emphasis role="bold">pts removeuser</emphasis> <emphasis role="bold">-user</emphasis> &lt;<emphasis>user name</emphasis>&gt;+ <emphasis role="bold">-group</emphasis> &lt;<emphasis>group name</emphasis>&gt;+
        [<emphasis role="bold">-cell</emphasis> &lt;<emphasis>cell name</emphasis>&gt;] [<emphasis role="bold">-noauth</emphasis>] [<emphasis role="bold">-force</emphasis>] [<emphasis role="bold">-help</emphasis>]</para>

    <para><emphasis role="bold">pts rem</emphasis> <emphasis role="bold">-u</emphasis> &lt;<emphasis>user name</emphasis>&gt;+ <emphasis role="bold">-g</emphasis> &lt;<emphasis>group name</emphasis>&gt;+
        [<emphasis role="bold">-c</emphasis> &lt;<emphasis>cell name</emphasis>&gt;] [<emphasis role="bold">-n</emphasis>] [<emphasis role="bold">-f</emphasis>] [<emphasis role="bold">-h</emphasis>]</para>

  </refsect1>
  <refsect1>
    <title>Description</title>
    <para>The <emphasis role="bold">pts removeuser</emphasis> command removes each user or machine named by the
    <emphasis role="bold">-user</emphasis> argument from each group named by the <emphasis role="bold">-group</emphasis> argument.</para>

    <para>To add users to a group, use the <emphasis role="bold">pts adduser</emphasis> command. To list group
    membership, use the <emphasis role="bold">pts membership</emphasis> command. To remove users from a
    group and delete the group's entry completely in a single step, use the
    <emphasis role="bold">pts delete</emphasis> command.</para>

  </refsect1>
  <refsect1>
    <title>Cautions</title>
    <para>AFS compiles each user's group membership as he or she authenticates. Any
    users who have valid tokens when they are removed from a group retain the
    privileges extended to that group's members until they discard their
    tokens or reauthenticate.</para>

  </refsect1>
  <refsect1>
    <title>Options</title>
    <variablelist>
      <varlistentry>
        <term><emphasis role="bold">-name</emphasis> &lt;<emphasis>user name</emphasis>&gt;+</term>
        <listitem>
          <para>Specifies the name of each user entry or the IP address (complete or
          wildcard-style) of each machine entry to remove.</para>

        </listitem>
      </varlistentry>
      <varlistentry>
        <term><emphasis role="bold">-group</emphasis> &lt;<emphasis>group name</emphasis>&gt;+</term>
        <listitem>
          <para>Names each group from which to remove members.</para>

        </listitem>
      </varlistentry>
      <varlistentry>
        <term><emphasis role="bold">-cell</emphasis> &lt;<emphasis>cell name</emphasis>&gt;</term>
        <listitem>
          <para>Names the cell in which to run the command. For more details, see
          <link linkend="pts1">pts(1)</link>.</para>

        </listitem>
      </varlistentry>
      <varlistentry>
        <term><emphasis role="bold">-noauth</emphasis></term>
        <listitem>
          <para>Assigns the unprivileged identity anonymous to the issuer. For more
          details, see <link linkend="pts1">pts(1)</link>.</para>

        </listitem>
      </varlistentry>
      <varlistentry>
        <term><emphasis role="bold">-force</emphasis></term>
        <listitem>
          <para>Enables the command to continue executing as far as possible when errors
          or other problems occur, rather than halting execution at the first error.</para>

        </listitem>
      </varlistentry>
      <varlistentry>
        <term><emphasis role="bold">-help</emphasis></term>
        <listitem>
          <para>Prints the online help for this command. All other valid options are
          ignored.</para>

        </listitem>
      </varlistentry>
    </variablelist>
  </refsect1>
  <refsect1>
    <title>Examples</title>
    <para>The following example removes user smith from the groups <computeroutput>staff</computeroutput> and
    <computeroutput>staff:finance</computeroutput>. Note that no switch names are necessary because only a
    single instance is provided for the first argument (the username).</para>

<programlisting>
   % pts removeuser smith staff staff:finance

</programlisting>
      <para>The following example removes three machine entries, which represent all
      machines in the ABC Corporation network, from the group <computeroutput>bin-prot</computeroutput>:</para>

<programlisting>
   % pts removeuser -user 138.255.0.0 192.12.105.0 192.12.106.0 -group bin-prot

</programlisting>
      </refsect1>
      <refsect1>
        <title>Privilege Required</title>
        <para>The required privilege depends on the setting of the fifth privacy flag in
        the Protection Database for the group named by the <emphasis role="bold">-group</emphasis> argument (use
        the <emphasis role="bold">pts examine</emphasis> command to display the flags):</para>

        <itemizedlist>
          <listitem>
            <para>If it is the hyphen, only the group's owner and members of the
            system:administrators group can remove members.</para>

          </listitem>
          <listitem>
            <para>If it is lowercase <computeroutput>r</computeroutput>, members of the group can also remove other
            members.</para>

          </listitem>
        </itemizedlist>
        <para>(It is not possible to set the fifth flag to uppercase <computeroutput>R</computeroutput>.)</para>

      </refsect1>
      <refsect1>
        <title>See Also</title>
        <para><link linkend="pts1">pts(1)</link>,
        <link linkend="pts_adduser1">pts_adduser(1)</link>,
        <link linkend="pts_examine1">pts_examine(1)</link>,
        <link linkend="pts_membership1">pts_membership(1)</link>,
        <link linkend="pts_setfields1">pts_setfields(1)</link></para>

      </refsect1>
      <refsect1>
        <title>Copyright</title>
        <para>IBM Corporation 2000. &lt;http://www.ibm.com/&gt; All Rights Reserved.</para>

        <para>This documentation is covered by the IBM Public License Version 1.0.  It was
        converted from HTML to POD by software written by Chas Williams and Russ
        Allbery, based on work by Alf Wachsmann and Elizabeth Cassell.</para>

      </refsect1>
    </refentry>
