<?xml version="1.0" encoding="UTF-8"?>
<refentry id="vos_status1">
  <refmeta>
    <refentrytitle>vos status</refentrytitle>
    <manvolnum>1</manvolnum>
  </refmeta>
  <refnamediv>
    <refname>vos status</refname>
    <refpurpose>Reports a Volume Server's status</refpurpose>
  </refnamediv>
  <refsect1>
    <title>Synopsis</title>
    <para><emphasis role="bold">vos status</emphasis> <emphasis role="bold">-server</emphasis> &lt;<emphasis>machine name</emphasis>&gt; [<emphasis role="bold">-cell</emphasis> &lt;<emphasis>cell name</emphasis>&gt;]
        [<emphasis role="bold">-noauth</emphasis>] [<emphasis role="bold">-localauth</emphasis>] [<emphasis role="bold">-verbose</emphasis>] [<emphasis role="bold">-help</emphasis>]</para>

    <para><emphasis role="bold">vos st</emphasis> <emphasis role="bold">-s</emphasis> &lt;<emphasis>machine name</emphasis>&gt; [<emphasis role="bold">-c</emphasis> &lt;<emphasis>cell name</emphasis>&gt;] [<emphasis role="bold">-n</emphasis>] [<emphasis role="bold">-l</emphasis>]
        [<emphasis role="bold">-v</emphasis>] [<emphasis role="bold">-h</emphasis>]</para>

  </refsect1>
  <refsect1>
    <title>Description</title>
    <para>The <emphasis role="bold">vos status</emphasis> command reports on what the Volume Server on a certain
    file server machine is doing at the moment the command is issued. If there
    is no activity, the following message appears:</para>

<programlisting>
   No active transactions on &amp;lt;machine_name&amp;gt;

</programlisting>
      <para>This command is useful mainly if there is concern that the Volume Server
      is not performing requested actions.</para>

    </refsect1>
    <refsect1>
      <title>Options</title>
      <variablelist>
        <varlistentry>
          <term><emphasis role="bold">-server</emphasis> &lt;<emphasis>server name</emphasis>&gt;</term>
          <listitem>
            <para>Identifies the file server machine running the Volume Server for which to
            display status information. Provide the machine's IP address or its host
            name (either fully qualified or using an unambiguous abbreviation). For
            details, see <link linkend="vos1">vos(1)</link>.</para>

          </listitem>
        </varlistentry>
        <varlistentry>
          <term><emphasis role="bold">-cell</emphasis> &lt;<emphasis>cell name</emphasis>&gt;</term>
          <listitem>
            <para>Names the cell in which to run the command. Do not combine this argument
            with the <emphasis role="bold">-localauth</emphasis> flag. For more details, see <link linkend="vos1">vos(1)</link>.</para>

          </listitem>
        </varlistentry>
        <varlistentry>
          <term><emphasis role="bold">-noauth</emphasis></term>
          <listitem>
            <para>Assigns the unprivileged identity <computeroutput>anonymous</computeroutput> to the issuer. Do not
            combine this flag with the <emphasis role="bold">-localauth</emphasis> flag. For more details, see
            <link linkend="vos1">vos(1)</link>.</para>

          </listitem>
        </varlistentry>
        <varlistentry>
          <term><emphasis role="bold">-localauth</emphasis></term>
          <listitem>
            <para>Constructs a server ticket using a key from the local
            <replaceable>/usr/afs/etc/KeyFile</replaceable> file. The <emphasis role="bold">vos</emphasis> command interpreter presents it
            to the Volume Server and Volume Location Server during mutual
            authentication. Do not combine this flag with the <emphasis role="bold">-cell</emphasis> argument or
            <emphasis role="bold">-noauth</emphasis> flag. For more details, see <link linkend="vos1">vos(1)</link>.</para>

          </listitem>
        </varlistentry>
        <varlistentry>
          <term><emphasis role="bold">-verbose</emphasis></term>
          <listitem>
            <para>Produces on the standard output stream a detailed trace of the command's
            execution. If this argument is omitted, only warnings and error messages
            appear.</para>

          </listitem>
        </varlistentry>
        <varlistentry>
          <term><emphasis role="bold">-help</emphasis></term>
          <listitem>
            <para>Prints the online help for this command. All other valid options are
            ignored.</para>

          </listitem>
        </varlistentry>
      </variablelist>
    </refsect1>
    <refsect1>
      <title>Output</title>
      <para>There are two possible types of output.</para>

      <para>The following message indicates that the Volume Server is not currently
      performing any actions.</para>

<programlisting>
   No active transactions on I&amp;lt;machine name&amp;gt;

</programlisting>
        <para>The other possible output is a set of information which is probably more
        useful to programmers than to system administrators. A full understanding
        of all the fields requires familiarity with the code for the Volume
        Server, as many of the fields report ID numbers and flag values that the
        Volume Server sets for internal use.</para>

        <para>Among the fields of possible interest to an administrator are:</para>

        <itemizedlist>
          <listitem>
            <para><computeroutput>created</computeroutput> on the first line, which indicates the time at which this
            transaction started</para>

          </listitem>
          <listitem>
            <para><computeroutput>attachFlags</computeroutput> on the second line, where a value of <computeroutput>offline</computeroutput> indicates
            that the volume is not available for other read or write operations during
            this transaction</para>

          </listitem>
          <listitem>
            <para><computeroutput>volume</computeroutput> on the third line, which specifies the affected volume's ID
            number</para>

          </listitem>
          <listitem>
            <para><computeroutput>partition</computeroutput> on the third line, which indicates where the affected volume
            resides (at the beginning of the transaction if this is a move)</para>

          </listitem>
          <listitem>
            <para><computeroutput>procedure</computeroutput> on the third line, which indicates the internal subprocedure
            being executed</para>

          </listitem>
        </itemizedlist>
        <para>A fourth line can appear during certain transactions, and includes the
        following fields:</para>

        <itemizedlist>
          <listitem>
            <para><computeroutput>packetRead</computeroutput> tracks whether information is being read into the
            volume. Its absolute value is not informative, but the way it changes
            shows whether the <emphasis role="bold">vos restore</emphasis> command is executing properly.  As the
            <emphasis role="bold">vos status</emphasis> command is issued repeatedly during a restore, <computeroutput>readNext</computeroutput>
            increases monotonically to indicate that information is being read into
            the volume.</para>

          </listitem>
          <listitem>
            <para><computeroutput>packetSend</computeroutput> tracks whether information is being sent out of the
            volume. Its absolute value is not informative, but the way it changes
            shows whether the <emphasis role="bold">vos dump</emphasis> command is executing properly. As the <emphasis role="bold">vos
            status</emphasis> command is issued repeatedly during a dump, <computeroutput>transmitNext</computeroutput>
            increases monotonically to indicate that information is being transferred
            from the volume into the dump file.</para>

          </listitem>
        </itemizedlist>
        <para>The <computeroutput>lastReceiveTime</computeroutput> and <computeroutput>lastSendTime</computeroutput> are for internal use.</para>

      </refsect1>
      <refsect1>
        <title>Examples</title>
        <para>The following example illustrates the kind of output that sometimes
        appears when the Volume Server on <computeroutput>fs1.abc.com</computeroutput> is executing a dump at
        the time this command is issued.</para>

<programlisting>
   % vos status fs1.abc.com
   --------------------------------------------
   transaction: 575  created: Tue Jan 2 8:34:56 1990
   attachFlags: offline
   volume: 536871080 partition: /vicepb procedure: Dump
   packetRead: 2 lastReceiveTime: 113313 packetSend: 24588
       lastSendTime: 113317
   --------------------------------------------

</programlisting>
        </refsect1>
        <refsect1>
          <title>Privilege Required</title>
          <para>None</para>

        </refsect1>
        <refsect1>
          <title>See Also</title>
          <para><link linkend="vos1">vos(1)</link></para>

        </refsect1>
        <refsect1>
          <title>Copyright</title>
          <para>IBM Corporation 2000. &lt;http://www.ibm.com/&gt; All Rights Reserved.</para>

          <para>This documentation is covered by the IBM Public License Version 1.0.  It was
          converted from HTML to POD by software written by Chas Williams and Russ
          Allbery, based on work by Alf Wachsmann and Elizabeth Cassell.</para>

        </refsect1>
      </refentry>
