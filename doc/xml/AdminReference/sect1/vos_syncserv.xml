<?xml version="1.0" encoding="UTF-8"?>
<refentry id="vos_syncserv1">
  <refmeta>
    <refentrytitle>vos syncserv</refentrytitle>
    <manvolnum>1</manvolnum>
  </refmeta>
  <refnamediv>
    <refname>vos syncserv</refname>
    <refpurpose>Verifies VLDB entries that mention a specified site</refpurpose>
  </refnamediv>
  <refsect1>
    <title>Synopsis</title>
    <para><emphasis role="bold">vos syncserv</emphasis> <emphasis role="bold">-server</emphasis> &lt;<emphasis>machine name</emphasis>&gt;
        [<emphasis role="bold">-partition</emphasis> &lt;<emphasis>partition name</emphasis>&gt;] [<emphasis role="bold">-cell</emphasis> &lt;<emphasis>cell name</emphasis>&gt;]
        [<emphasis role="bold">-noauth</emphasis>] [<emphasis role="bold">-localauth</emphasis>] [<emphasis role="bold">-verbose</emphasis>] [<emphasis role="bold">-help</emphasis>]</para>

    <para><emphasis role="bold">vos syncs</emphasis> <emphasis role="bold">-s</emphasis> &lt;<emphasis>machine name</emphasis>&gt; [<emphasis role="bold">-p</emphasis> &lt;<emphasis>partition name</emphasis>&gt;]
        [<emphasis role="bold">-c</emphasis> &lt;<emphasis>cell name</emphasis>&gt;] [<emphasis role="bold">-n</emphasis>] [<emphasis role="bold">-l</emphasis>] [<emphasis role="bold">-v</emphasis>] [<emphasis role="bold">-h</emphasis>]</para>

  </refsect1>
  <refsect1>
    <title>Description</title>
    <para>The <emphasis role="bold">vos syncserv</emphasis> command verifies that each volume mentioned in a VLDB
    entry actually exists at the site indicated in the entry. It checks all
    VLDB entries that mention a read/write, read-only, or backup site either
    on any partition on the file server machine specified by the <emphasis role="bold">-server</emphasis>
    argument, or on the one partition specified by the <emphasis role="bold">-server</emphasis> and
    <emphasis role="bold">-partition</emphasis> arguments. Note that the command can end up inspecting sites
    other than those specified by the <emphasis role="bold">-server</emphasis> and <emphasis role="bold">-partition</emphasis> arguments,
    if there are versions of the volume at sites other than the one specified.</para>

    <para>The command alters any incorrect information in the VLDB, unless there is
    an irreconcilable conflict with other VLDB entries. In that case, it
    writes a message to the standard error stream instead. The command never
    removes volumes from file server machines.</para>

    <para>To achieve complete VLDB consistency, first run the <emphasis role="bold">vos syncvldb</emphasis>
    command on all file server machines in the cell, then run this command on
    all file server machines in the cell.</para>

  </refsect1>
  <refsect1>
    <title>Options</title>
    <variablelist>
      <varlistentry>
        <term><emphasis role="bold">-server</emphasis> &lt;<emphasis>server name</emphasis>&gt;</term>
        <listitem>
          <para>Identifies the file server machine mentioned in each VLDB entry to
          check. Provide the machine's IP address or its host name (either fully
          qualified or using an unambiguous abbreviation). For details, see
          <link linkend="vos1">vos(1)</link>.</para>

        </listitem>
      </varlistentry>
      <varlistentry>
        <term><emphasis role="bold">-partition</emphasis> &lt;<emphasis>partition name</emphasis>&gt;</term>
        <listitem>
          <para>Identifies the partition mentioned in each VLDB entry to check.  Provide
          the partition's complete name with preceding slash (for example,
          <computeroutput>/vicepa</computeroutput>) or use one of the three acceptable abbreviated forms. For
          details, see <link linkend="vos1">vos(1)</link>.</para>

        </listitem>
      </varlistentry>
      <varlistentry>
        <term><emphasis role="bold">-cell</emphasis> &lt;<emphasis>cell name</emphasis>&gt;</term>
        <listitem>
          <para>Names the cell in which to run the command. Do not combine this argument
          with the <emphasis role="bold">-localauth</emphasis> flag. For more details, see <link linkend="vos1">vos(1)</link>.</para>

        </listitem>
      </varlistentry>
      <varlistentry>
        <term><emphasis role="bold">-noauth</emphasis></term>
        <listitem>
          <para>Assigns the unprivileged identity <computeroutput>anonymous</computeroutput> to the issuer. Do not
          combine this flag with the <emphasis role="bold">-localauth</emphasis> flag. For more details, see
          <link linkend="vos1">vos(1)</link>.</para>

        </listitem>
      </varlistentry>
      <varlistentry>
        <term><emphasis role="bold">-localauth</emphasis></term>
        <listitem>
          <para>Constructs a server ticket using a key from the local
          <replaceable>/usr/afs/etc/KeyFile</replaceable> file. The <emphasis role="bold">vos</emphasis> command interpreter presents it
          to the Volume Server and Volume Location Server during mutual
          authentication. Do not combine this flag with the <emphasis role="bold">-cell</emphasis> argument or
          <emphasis role="bold">-noauth</emphasis> flag. For more details, see <link linkend="vos1">vos(1)</link>.</para>

        </listitem>
      </varlistentry>
      <varlistentry>
        <term><emphasis role="bold">-verbose</emphasis></term>
        <listitem>
          <para>Produces on the standard output stream a detailed trace of the command's
          execution. If this argument is omitted, only warnings and error messages
          appear.</para>

        </listitem>
      </varlistentry>
      <varlistentry>
        <term><emphasis role="bold">-help</emphasis></term>
        <listitem>
          <para>Prints the online help for this command. All other valid options are
          ignored.</para>

        </listitem>
      </varlistentry>
    </variablelist>
  </refsect1>
  <refsect1>
    <title>Examples</title>
    <para>The following example verifies the VLDB entries in which a site definition
    mentions the file server machine <computeroutput>fs3.abc.com</computeroutput>.</para>

<programlisting>
   % vos syncserv -server fs3.abc.com

</programlisting>
    </refsect1>
    <refsect1>
      <title>Privilege Required</title>
      <para>The issuer must be listed in the <replaceable>/usr/afs/etc/UserList</replaceable> file on the
      machine specified with the <emphasis role="bold">-server</emphasis> argument and on each database server
      machine. If the <emphasis role="bold">-localauth</emphasis> flag is included, the issuer must instead be
      logged on to a server machine as the local superuser <computeroutput>root</computeroutput>.</para>

    </refsect1>
    <refsect1>
      <title>See Also</title>
      <para><link linkend="vos1">vos(1)</link>,
      <link linkend="vos_syncvldb1">vos_syncvldb(1)</link></para>

    </refsect1>
    <refsect1>
      <title>Copyright</title>
      <para>IBM Corporation 2000. &lt;http://www.ibm.com/&gt; All Rights Reserved.</para>

      <para>This documentation is covered by the IBM Public License Version 1.0.  It was
      converted from HTML to POD by software written by Chas Williams and Russ
      Allbery, based on work by Alf Wachsmann and Elizabeth Cassell.</para>

    </refsect1>
  </refentry>
