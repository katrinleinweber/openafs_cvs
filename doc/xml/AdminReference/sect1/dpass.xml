<?xml version="1.0" encoding="UTF-8"?>
<refentry id="dpass1">
  <refmeta>
    <refentrytitle>dpass</refentrytitle>
    <manvolnum>1</manvolnum>
  </refmeta>
  <refnamediv>
    <refname>dpass</refname>
    <refpurpose>Returns the DCE password for a new DCE account</refpurpose>
  </refnamediv>
  <refsect1>
    <title>Synopsis</title>
    <para><emphasis role="bold">dpass</emphasis> [<emphasis role="bold">-cell</emphasis> &lt;<emphasis>original AFS cell name</emphasis>&gt;] [<emphasis role="bold">-help</emphasis>]</para>

    <para><emphasis role="bold">dpass</emphasis> [<emphasis role="bold">-c</emphasis> &lt;<emphasis>original AFS cell name</emphasis>&gt;] [<emphasis role="bold">-h</emphasis>]</para>

  </refsect1>
  <refsect1>
    <title>Description</title>
    <para>The <emphasis role="bold">dpass</emphasis> command returns the DCE password that an administrator
    assigned to the issuer when using the <emphasis role="bold">dm pass</emphasis> command to migrate AFS
    user accounts into a DCE cell.</para>

    <para>The <emphasis role="bold">dpass</emphasis> command, issued on an AFS client, requests the issuer's new
    DCE password from the AFS cell specified with the <emphasis role="bold">-cell</emphasis> argument.</para>

    <para>The issuer must be authenticated as the AFS user whose AFS account was
    moved into DCE, and be able to provide the user's AFS password when
    prompted by the <emphasis role="bold">dpass</emphasis> command.</para>

  </refsect1>
  <refsect1>
    <title>Options</title>
    <variablelist>
      <varlistentry>
        <term><emphasis role="bold">-cell</emphasis> &lt;<emphasis>cell name</emphasis>&gt;</term>
        <listitem>
          <para>Specifies the name of the AFS cell from which the AFS account was moved
          into DCE and from which to fetch the new DCE password.</para>

        </listitem>
      </varlistentry>
      <varlistentry>
        <term><emphasis role="bold">-help</emphasis></term>
        <listitem>
          <para>Prints the online help for this command. All other valid options are
          ignored.</para>

        </listitem>
      </varlistentry>
    </variablelist>
  </refsect1>
  <refsect1>
    <title>Output</title>
    <para>By default, the dpass command writes a message similar to the following to
    the standard output stream.</para>

<programlisting>
   Please read the following message before entering your password.

</programlisting>
<programlisting>
   This program will display your new, temporary DCE password on your
   terminal, and you should change the assigned password as soon as
   possible (from a DCE client).  The program assumes that the AFS cell
   uses the AFS Authentication Server and that an administrator used the
   utilities in the AFS/DFS Migration Toolkit to migrate the account from
   AFS to DCE. The password you enter should be the AFS password that was
   in effect when your DCE account was created; this is not necessarily
   the same password you have at the moment.  The cell name (which you may
   override with a command line option), must be the name of the AFS cell
   from which the authentication information was taken.

</programlisting>
        <para>To suppress this message, set the DPASS_NO_MESSAGE environment
        variable. It is then possible to substitute a customized message if
        desired by using a script similar to the following example:</para>

<programlisting>
   #! /bin/csh
   echo "I&amp;lt;Start of customized message&amp;gt;"
   echo "I&amp;lt;Continuation of customized message&amp;gt;"
     .
     .
     .
   echo "I&amp;lt;Conclusion of customized message&amp;gt;"
   setenv DPASS_NO_MESSAGE
   dpass $*

</programlisting>
          <para>After the standard or customized message, if any, the dpass command
          generates the following prompt for the original AFS password:</para>

<programlisting>
   Original password for AFS cell &amp;lt;cell&amp;gt;:
   Re-enter password to verify:

</programlisting>
            <para>If the AFS passwords match and are correct, the command reports the
            temporary DCE password in the following message.</para>

<programlisting>
   The new DCE password is: &amp;lt;Issuer's_temporary_DCE_password

</programlisting>
            </refsect1>
            <refsect1>
              <title>Examples</title>
              <para>The following example returns the DCE password of the issuer, whose AFS
              account is in the <computeroutput>abc.com</computeroutput> cell. The DPASS_NO_MESSAGE variable has been
              set to suppress the standard message.</para>

<programlisting>
   % dpass
   Original password for AFS cell abc.com: &amp;lt;Issuer's_AFS_password&amp;gt;
   Re-enter password to verify: &amp;lt;Issuer's_AFS_password&amp;gt;
   The new DCE password is: 8655--eg8e-dcdc-8157

</programlisting>
              </refsect1>
              <refsect1>
                <title>Privilege Required</title>
                <para>The issuer must be authenticated as the AFS user for whom to display the
                corresponding DCE password.</para>

              </refsect1>
              <refsect1>
                <title>See Also</title>
                <para><link linkend="dlog1">dlog(1)</link></para>

                <para><emphasis role="bold">dm pass</emphasis> reference page in <emphasis>IBM AFS/DFS Migration Toolkit
                Administration Guide and Reference</emphasis></para>

              </refsect1>
              <refsect1>
                <title>Copyright</title>
                <para>IBM Corporation 2000. &lt;http://www.ibm.com/&gt; All Rights Reserved.</para>

                <para>This documentation is covered by the IBM Public License Version 1.0.  It was
                converted from HTML to POD by software written by Chas Williams and Russ
                Allbery, based on work by Alf Wachsmann and Elizabeth Cassell.</para>

              </refsect1>
            </refentry>
