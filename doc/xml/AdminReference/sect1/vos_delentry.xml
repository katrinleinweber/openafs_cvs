<?xml version="1.0" encoding="UTF-8"?>
<refentry id="vos_delentry1">
  <refmeta>
    <refentrytitle>vos delentry</refentrytitle>
    <manvolnum>1</manvolnum>
  </refmeta>
  <refnamediv>
    <refname>vos delentry</refname>
    <refpurpose>Removes a volume entry from the VLDB.</refpurpose>
  </refnamediv>
  <refsect1>
    <title>Synopsis</title>
    <para><emphasis role="bold">vos delentry</emphasis> [<emphasis role="bold">-id</emphasis> &lt;<emphasis>volume name or ID</emphasis>&gt;+]
        [<emphasis role="bold">-prefix</emphasis> &lt;<emphasis>prefix of volume whose VLDB entry is to be deleted</emphasis>&gt;]
        [<emphasis role="bold">-server</emphasis> &lt;<emphasis>machine name</emphasis>&gt;] [<emphasis role="bold">-partition</emphasis> &lt;<emphasis>partition name</emphasis>&gt;]
        [<emphasis role="bold">-cell</emphasis> &lt;<emphasis>cell name</emphasis>&gt;] [<emphasis role="bold">-noauth</emphasis>] [<emphasis role="bold">-localauth</emphasis>] [<emphasis role="bold">-verbose</emphasis>]
        [<emphasis role="bold">-help</emphasis>]</para>

    <para><emphasis role="bold">vos de</emphasis> [<emphasis role="bold">-i</emphasis> &lt;<emphasis>volume name or ID</emphasis>&gt;+]
        [<emphasis role="bold">-pr</emphasis> &lt;<emphasis>prefix of volume whose VLDB entry is to be deleted</emphasis>&gt;]
        [<emphasis role="bold">-s</emphasis> &lt;<emphasis>machine name</emphasis>&gt;] [<emphasis role="bold">-pa</emphasis> &lt;<emphasis>partition name</emphasis>&gt;]
        [<emphasis role="bold">-c</emphasis> &lt;<emphasis>cell name</emphasis>&gt;] [<emphasis role="bold">-n</emphasis>] [<emphasis role="bold">-l</emphasis>] [<emphasis role="bold">-v</emphasis>] [<emphasis role="bold">-h</emphasis>]</para>

  </refsect1>
  <refsect1>
    <title>Description</title>
    <para>The <emphasis role="bold">vos delentry</emphasis> command removes the Volume Location Database (VLDB)
    entry for each specified volume. A specified volume can be any of the
    three types (read/write, read-only, or backup), but the entire entry is
    removed no matter which type is provided. The command has no effect on the
    actual volumes on file server machines, if they exist.</para>

    <para>This command is useful if a volume removal operation did not update the
    VLDB (perhaps because the <emphasis role="bold">vos zap</emphasis> command was used), but the system
    administrator does not feel it is necessary to use the <emphasis role="bold">vos syncserv</emphasis> and
    <emphasis role="bold">vos syncvldb</emphasis> commands to synchronize an entire file server machine.</para>

    <para>To remove the VLDB entry for a single volume, use the <emphasis role="bold">-id</emphasis> argument. To
    remove groups of volumes, combine the <emphasis role="bold">-prefix</emphasis>, <emphasis role="bold">-server</emphasis>, and
    <emphasis role="bold">-partition</emphasis> arguments. The following list describes how to remove the
    VLDB entry for the indicated group of volumes:</para>

    <itemizedlist>
      <listitem>
        <para>For every volume whose name begins with a certain character string (for
        example, <computeroutput>sys.</computeroutput> or <computeroutput>user.</computeroutput>): use the <emphasis role="bold">-prefix</emphasis> argument.</para>

      </listitem>
      <listitem>
        <para>Every volume for which the VLDB lists a site on a certain file server
        machine: specify the file server name with the <emphasis role="bold">-server</emphasis> argument.</para>

      </listitem>
      <listitem>
        <para>Every volume for which the VLDB lists a site on a partition of the same
        name (for instance, on the <replaceable>/vicepa</replaceable> partition on any file server
        machine): specify the partition name with the <emphasis role="bold">-partition</emphasis> argument.</para>

      </listitem>
      <listitem>
        <para>Every volume for which the VLDB lists a site one a specific partition of a
        file server machine: specify both the <emphasis role="bold">-server</emphasis> and <emphasis role="bold">-partition</emphasis>
        arguments.</para>

      </listitem>
      <listitem>
        <para>Every volume whose name begins with a certain prefix and for which the
        VLDB lists a site on a file server machine: combine the <emphasis role="bold">-prefix</emphasis> and
        <emphasis role="bold">-server</emphasis> arguments. Combine the <emphasis role="bold">-prefix</emphasis> argument with the
        <emphasis role="bold">-partition</emphasis> argument, or both the <emphasis role="bold">-server</emphasis> and <emphasis role="bold">-partition</emphasis>
        arguments, to remove a more specific group of volumes.</para>

      </listitem>
    </itemizedlist>
  </refsect1>
  <refsect1>
    <title>Cautions</title>
    <para>Do not use this command to remove a volume in normal circumstances; it
    does not remove a volume from the file server machine, and so is likely to
    make the VLDB inconsistent with state of the volumes on server
    machines. Use the <emphasis role="bold">vos remove</emphasis> command to remove both the volume and its
    VLDB entry.</para>

  </refsect1>
  <refsect1>
    <title>Options</title>
    <variablelist>
      <varlistentry>
        <term><emphasis role="bold">-id</emphasis> &lt;<emphasis>volume name or ID</emphasis>&gt;+</term>
        <listitem>
          <para>Specifies the complete name or the volume ID number of each volume for
          which to remove the VLDB entry. The entire entry is removed, regardless of
          whether the read/write, read-only, or backup version is indicated.
          Provide this argument or some combination of the <emphasis role="bold">-prefix</emphasis>, <emphasis role="bold">-server</emphasis>,
          and <emphasis role="bold">-partition</emphasis> arguments.</para>

        </listitem>
      </varlistentry>
      <varlistentry>
        <term><emphasis role="bold">-prefix</emphasis> &lt;<emphasis>prefix of volume entry</emphasis></term>
        <listitem>
          <para>Specifies a character string of any length; the VLDB entry for a volume
          whose name begins with the string is removed. Include field separators
          (such as periods) if appropriate. Combine this argument with the
          <emphasis role="bold">-server</emphasis> argument, <emphasis role="bold">-partition</emphasis> argument, or both.</para>

        </listitem>
      </varlistentry>
      <varlistentry>
        <term><emphasis role="bold">-server</emphasis> &lt;<emphasis>server name</emphasis>&gt;</term>
        <listitem>
          <para>Identifies a file server machine; if a volume's VLDB entry lists a site on
          the machine, the entry is removed. Provide the machine's IP address or its
          host name (either fully qualified or using an unambiguous
          abbreviation). For details, see <link linkend="vos1">vos(1)</link>.</para>

          <para>Combine this argument with the <emphasis role="bold">-prefix</emphasis> argument, the <emphasis role="bold">-partition</emphasis>
          argument, or both.</para>

        </listitem>
      </varlistentry>
      <varlistentry>
        <term><emphasis role="bold">-partition</emphasis> &lt;<emphasis>partition name</emphasis>&gt;</term>
        <listitem>
          <para>Identifies a partition; if a volume's VLDB entry lists a site on the
          partition, the entry is removed. Provide the partition's complete name
          with preceding slash (for example, <replaceable>/vicepa</replaceable>) or use one of the three
          acceptable abbreviated forms. For details, see <link linkend="vos1">vos(1)</link>.</para>

          <para>Combine this argument with the <emphasis role="bold">-prefix</emphasis> argument, the <emphasis role="bold">-server</emphasis>
          argument, or both.</para>

        </listitem>
      </varlistentry>
      <varlistentry>
        <term><emphasis role="bold">-cell</emphasis> &lt;<emphasis>cell name</emphasis>&gt;</term>
        <listitem>
          <para>Names the cell in which to run the command. Do not combine this argument
          with the <emphasis role="bold">-localauth</emphasis> flag. For more details, see <link linkend="vos1">vos(1)</link>.</para>

        </listitem>
      </varlistentry>
      <varlistentry>
        <term><emphasis role="bold">-noauth</emphasis></term>
        <listitem>
          <para>Assigns the unprivileged identity <computeroutput>anonymous</computeroutput> to the issuer. Do not
          combine this flag with the <emphasis role="bold">-localauth</emphasis> flag. For more details, see
          <link linkend="vos1">vos(1)</link>.</para>

        </listitem>
      </varlistentry>
      <varlistentry>
        <term><emphasis role="bold">-localauth</emphasis></term>
        <listitem>
          <para>Constructs a server ticket using a key from the local
          <replaceable>/usr/afs/etc/KeyFile</replaceable> file. The <emphasis role="bold">vos</emphasis> command interpreter presents it
          to the Volume Server and Volume Location Server during mutual
          authentication. Do not combine this flag with the <emphasis role="bold">-cell</emphasis> argument or
          <emphasis role="bold">-noauth</emphasis> flag. For more details, see <link linkend="vos1">vos(1)</link>.</para>

        </listitem>
      </varlistentry>
      <varlistentry>
        <term><emphasis role="bold">-verbose</emphasis></term>
        <listitem>
          <para>Produces on the standard output stream a detailed trace of the command's
          execution. If this argument is omitted, only warnings and error messages
          appear.</para>

        </listitem>
      </varlistentry>
      <varlistentry>
        <term><emphasis role="bold">-help</emphasis></term>
        <listitem>
          <para>Prints the online help for this command. All other valid options are
          ignored.</para>

        </listitem>
      </varlistentry>
    </variablelist>
  </refsect1>
  <refsect1>
    <title>Output</title>
    <para>The following message confirms the success of the command by indicating
    how many VLDB entries were removed.</para>

<programlisting>
   Deleted &amp;lt;number&amp;gt; VLDB entries

</programlisting>
    </refsect1>
    <refsect1>
      <title>Examples</title>
      <para>The following command removes the VLDB entry for the volume <computeroutput>user.temp</computeroutput>.</para>

<programlisting>
   % vos delentry user.temp

</programlisting>
        <para>The following command removes the VLDB entry for every volume whose name
        begins with the string <computeroutput>test</computeroutput> and for which the VLDB lists a site on the
        file server machine <computeroutput>fs3.abc.com</computeroutput>.</para>

<programlisting>
   % vos delentry -prefix test -server fs3.abc.com

</programlisting>
        </refsect1>
        <refsect1>
          <title>Privilege Required</title>
          <para>The issuer must be listed in the <replaceable>/usr/afs/etc/UserList</replaceable> file on the
          machine specified with the <emphasis role="bold">-server</emphasis> argument and on each database server
          machine. If the <emphasis role="bold">-localauth</emphasis> flag is included, the issuer must instead be
          logged on to a server machine as the local superuser <computeroutput>root</computeroutput>.</para>

        </refsect1>
        <refsect1>
          <title>See Also</title>
          <para><link linkend="vos1">vos(1)</link>,
          <link linkend="vos_remove1">vos_remove(1)</link>,
          <link linkend="vos_syncserv1">vos_syncserv(1)</link>,
          <link linkend="vos_syncvldb1">vos_syncvldb(1)</link>,
          <link linkend="vos_zap1">vos_zap(1)</link></para>

        </refsect1>
        <refsect1>
          <title>Copyright</title>
          <para>IBM Corporation 2000. &lt;http://www.ibm.com/&gt; All Rights Reserved.</para>

          <para>This documentation is covered by the IBM Public License Version 1.0.  It was
          converted from HTML to POD by software written by Chas Williams and Russ
          Allbery, based on work by Alf Wachsmann and Elizabeth Cassell.</para>

        </refsect1>
      </refentry>
