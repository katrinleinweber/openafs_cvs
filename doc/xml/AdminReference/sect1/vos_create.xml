<?xml version="1.0" encoding="UTF-8"?>
<refentry id="vos_create1">
  <refmeta>
    <refentrytitle>vos create</refentrytitle>
    <manvolnum>1</manvolnum>
  </refmeta>
  <refnamediv>
    <refname>vos create</refname>
    <refpurpose>Creates a read/write volume and associated VLDB entry</refpurpose>
  </refnamediv>
  <refsect1>
    <title>Synopsis</title>
    <para><emphasis role="bold">vos create</emphasis> <emphasis role="bold">-server</emphasis> &lt;<emphasis>machine name</emphasis>&gt; <emphasis role="bold">-partition</emphasis> &lt;<emphasis>partition name</emphasis>&gt;
        <emphasis role="bold">-name</emphasis> &lt;<emphasis>volume name</emphasis>&gt; [<emphasis role="bold">-maxquota</emphasis> &lt;<emphasis>initial quota (KB)</emphasis>&gt;]
        [<emphasis role="bold">-cell</emphasis> &lt;<emphasis>cell name</emphasis>&gt;] [<emphasis role="bold">-noauth</emphasis>] [<emphasis role="bold">-localauth</emphasis>] [<emphasis role="bold">-verbose</emphasis>]
        [<emphasis role="bold">-help</emphasis>]</para>

    <para><emphasis role="bold">vos cr</emphasis> <emphasis role="bold">-s</emphasis> &lt;<emphasis>machine name</emphasis>&gt; <emphasis role="bold">-p</emphasis> &lt;<emphasis>partition name</emphasis>&gt;
        <emphasis role="bold">-na</emphasis> &lt;<emphasis>volume name</emphasis>&gt; [<emphasis role="bold">-m</emphasis> &lt;<emphasis>initial quota (KB)</emphasis>&gt;]
        [<emphasis role="bold">-c</emphasis> &lt;<emphasis>cell name</emphasis>&gt;] [<emphasis role="bold">-no</emphasis>] [<emphasis role="bold">-l</emphasis>] [<emphasis role="bold">-v</emphasis>] [<emphasis role="bold">-h</emphasis>]</para>

  </refsect1>
  <refsect1>
    <title>Description</title>
    <para>The <emphasis role="bold">vos create</emphasis> command creates a read/write volume with the name
    specified by the <emphasis role="bold">-name</emphasis> argument at the site specified by the <emphasis role="bold">-server</emphasis>
    and <emphasis role="bold">-partition</emphasis> arguments. In addition, the command allocates or sets
    the following:</para>

    <itemizedlist>
      <listitem>
        <para>Volume ID numbers for the read/write volume and its associated read-only
        and backup volumes (this command does not actually create the latter two
        types of volume). A volume ID number is an identification number
        guaranteed to be unique within a cell.</para>

      </listitem>
      <listitem>
        <para>An access control list (ACL) associated with the volume's root directory,
        which takes the same name as volume's mount point when the volume is
        mounted with the <emphasis role="bold">fs mkmount</emphasis> command. An entry that grants all seven
        permissions to the members of the system:administrators group is
        automatically placed on the ACL. (In addition, the File Server by default
        always implicitly grants the <computeroutput>l</computeroutput> (lookup) and <computeroutput>a</computeroutput> (administer)
        permissions on every ACL to members of the system:administrators group,
        even when the group does not appear on an ACL; use the <emphasis role="bold">-implicit</emphasis>
        argument to the <emphasis role="bold">fileserver</emphasis> initialization command to alter the set of
        rights on a server-by-server basis if desired.)</para>

      </listitem>
      <listitem>
        <para>The volume's space quota, set to 5000 kilobyte blocks by default. Use the
        <emphasis role="bold">-maxquota</emphasis> argument to specify a different quota, or use the <emphasis role="bold">fs
        setquota</emphasis> command to change the volume's quota after mounting the volume
        with the <emphasis role="bold">fs mkmount</emphasis> command.</para>

      </listitem>
    </itemizedlist>
    <para>The volume is empty when created. To access it via the Cache Manager,
    mount it in the file space by using the <emphasis role="bold">fs mkmount</emphasis> command.</para>

  </refsect1>
  <refsect1>
    <title>Options</title>
    <variablelist>
      <varlistentry>
        <term><emphasis role="bold">-server</emphasis> &lt;<emphasis>server name</emphasis>&gt;</term>
        <listitem>
          <para>Identifies the file server machine on which to create the read/write
          volume. Provide the machine's IP address or its host name (either fully
          qualified or using an unambiguous abbreviation). For details, see
          <link linkend="vos1">vos(1)</link>.</para>

        </listitem>
      </varlistentry>
      <varlistentry>
        <term><emphasis role="bold">-partition</emphasis> &lt;<emphasis>partition name</emphasis>&gt;</term>
        <listitem>
          <para>Identifies the partition on which to create the read/write volume, on the
          file server machine specified by the <emphasis role="bold">-server</emphasis> argument.  Provide the
          partition's complete name with preceding slash (for example, <computeroutput>/vicepa</computeroutput>)
          or use one of the three acceptable abbreviated forms. For details, see
          <link linkend="vos1">vos(1)</link>.</para>

        </listitem>
      </varlistentry>
      <varlistentry>
        <term><emphasis role="bold">-name</emphasis> &lt;<emphasis>volume name</emphasis>&gt;</term>
        <listitem>
          <para>Specifies a name for the read/write volume. The maximum length is 22
          characters, which can include any alphanumeric or punctuation
          character. By convention, periods separate the fields in a name.  Do not
          apply the <computeroutput>.backup</computeroutput> or <computeroutput>.readonly</computeroutput> extension to a read/write volume
          name; they are reserved for the Volume Server to add to the read/write
          name when creating those backup and read-only volumes respectively.</para>

        </listitem>
      </varlistentry>
      <varlistentry>
        <term><emphasis role="bold">-maxquota</emphasis> &lt;<emphasis>volume quota</emphasis>&gt;</term>
        <listitem>
          <para>Specifies the maximum amount of disk space the volume can use, as a number
          of kilobyte blocks (a value of <computeroutput>1024</computeroutput> is one megabyte). The value <computeroutput>0</computeroutput>
          (zero) grants an unlimited quota, but the size of the disk partition that
          houses the volume places an absolute limit on its size.  If this argument
          is omitted, the default value is <computeroutput>5000</computeroutput>.</para>

        </listitem>
      </varlistentry>
      <varlistentry>
        <term><emphasis role="bold">-cell</emphasis> &lt;<emphasis>cell name</emphasis>&gt;</term>
        <listitem>
          <para>Names the cell in which to run the command. Do not combine this argument
          with the <emphasis role="bold">-localauth</emphasis> flag. For more details, see <link linkend="vos1">vos(1)</link>.</para>

        </listitem>
      </varlistentry>
      <varlistentry>
        <term><emphasis role="bold">-noauth</emphasis></term>
        <listitem>
          <para>Assigns the unprivileged identity <computeroutput>anonymous</computeroutput> to the issuer. Do not
          combine this flag with the <emphasis role="bold">-localauth</emphasis> flag. For more details, see
          <link linkend="vos1">vos(1)</link>.</para>

        </listitem>
      </varlistentry>
      <varlistentry>
        <term><emphasis role="bold">-localauth</emphasis></term>
        <listitem>
          <para>Constructs a server ticket using a key from the local
          <replaceable>/usr/afs/etc/KeyFile</replaceable> file. The <emphasis role="bold">vos</emphasis> command interpreter presents it
          to the Volume Server and Volume Location Server during mutual
          authentication. Do not combine this flag with the <emphasis role="bold">-cell</emphasis> argument or
          <emphasis role="bold">-noauth</emphasis> flag. For more details, see <link linkend="vos1">vos(1)</link>.</para>

        </listitem>
      </varlistentry>
      <varlistentry>
        <term><emphasis role="bold">-verbose</emphasis></term>
        <listitem>
          <para>Produces on the standard output stream a detailed trace of the command's
          execution. If this argument is omitted, only warnings and error messages
          appear.</para>

        </listitem>
      </varlistentry>
      <varlistentry>
        <term><emphasis role="bold">-help</emphasis></term>
        <listitem>
          <para>Prints the online help for this command. All other valid options are
          ignored.</para>

        </listitem>
      </varlistentry>
    </variablelist>
  </refsect1>
  <refsect1>
    <title>Output</title>
    <para>The Volume Server produces the following message to confirm that it
    created the volume:</para>

<programlisting>
   Volume &amp;lt;volume_ID&amp;gt; created on partition &amp;lt;partition_name&amp;gt; of &amp;lt;machine_name&amp;gt;

</programlisting>
    </refsect1>
    <refsect1>
      <title>Examples</title>
      <para>The following command creates the read/write volume <computeroutput>user.pat</computeroutput> on the
      <replaceable>/vicepf</replaceable> partition of the file server machine <computeroutput>fs4.abc.com</computeroutput>.</para>

<programlisting>
   % vos create -server fs4.abc.com -partition /vicepf -name user.pat
   Volume user.pat created on partition /vicepf of fs4.abc.com

</programlisting>
      </refsect1>
      <refsect1>
        <title>Privilege Required</title>
        <para>The issuer must be listed in the <replaceable>/usr/afs/etc/UserList</replaceable> file on the
        machine specified with the <emphasis role="bold">-server</emphasis> argument and on each database server
        machine. If the <emphasis role="bold">-localauth</emphasis> flag is included, the issuer must instead be
        logged on to a server machine as the local superuser <computeroutput>root</computeroutput>.</para>

      </refsect1>
      <refsect1>
        <title>See Also</title>
        <para><link linkend="vos1">vos(1)</link></para>

      </refsect1>
      <refsect1>
        <title>Copyright</title>
        <para>IBM Corporation 2000. &lt;http://www.ibm.com/&gt; All Rights Reserved.</para>

        <para>This documentation is covered by the IBM Public License Version 1.0.  It was
        converted from HTML to POD by software written by Chas Williams and Russ
        Allbery, based on work by Alf Wachsmann and Elizabeth Cassell.</para>

      </refsect1>
    </refentry>
