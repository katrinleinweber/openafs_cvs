# Copyright 2000, International Business Machines Corporation and others.
# All Rights Reserved.
# 
# This software has been released under the terms of the IBM Public
# License.  For details, see the LICENSE file in the top-level source
# directory or online at http://www.openafs.org/dl/license10.html

DESTDIR=@DESTDIR@
SRCDIR=@SRCDIR@
TOP_SRCDIR=@TOP_SRCDIR@
SYS_NAME=@AFS_SYSNAME@

include ../../config/Makefile.${SYS_NAME}



OPTIMIZE=-O

INCDIRS= -I${TOP_SRCDIR}/config -I${DESTDIR}/include -I..
LDIRS= -L${DESTDIR}/lib -L${DESTDIR}/lib/afs -L..
LIBS= -lsys -lubik -lvldb -lauth -lrxkad -ldes -lcom_err -lcmd -lrx -llwp -lafsutil

CFLAGS = ${OPTIMIZE} ${INCDIRS} ${XCFLAGS}

install all system test:  fulltest owntest idtest getinitparams

fulltest: fulltest.o
	$(CC) $(CFLAGS) -o $@ $@.o $(LDIRS) $(LIBS)
owntest: owntest.o
	$(CC) $(CFLAGS) -o $@ $@.o $(LDIRS) $(LIBS)
idtest: idtest.o
	$(CC) $(CFLAGS) -o $@ $@.o $(LDIRS) $(LIBS)
getinitparams: getinitparams.o
	$(CC) $(CFLAGS) -o $@ $@.o $(LDIRS) $(LIBS)

clean:
	$(RM) -f *.o fulltest owntest idtest getinitparams

