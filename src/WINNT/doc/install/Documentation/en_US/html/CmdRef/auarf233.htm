<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML 3//EN">
<HTML><HEAD>
<TITLE>Administration Reference</TITLE>
<!-- Begin Header Records  ========================================== -->
<!-- /tmp/idwt3190/auarf000.scr converted by idb2h R4.2 (359) ID      -->
<!-- Workbench Version (AIX) on 5 Nov 1999 at 13:58:29                -->
<META HTTP-EQUIV="updated" CONTENT="Fri, 05 Nov 1999 13:58:29">
<META HTTP-EQUIV="review" CONTENT="Sun, 05 Nov 2000 13:58:29">
<META HTTP-EQUIV="expires" CONTENT="Mon, 05 Nov 2001 13:58:29">
</HEAD><BODY>
<!-- (C) IBM Corporation 2000. All Rights Reserved    --> 
<BODY bgcolor="ffffff"> 
<!-- End Header Records  ============================================ -->
<A NAME="Top_Of_Page"></A>
<H1>Administration Reference</H1>
<HR><P ALIGN="center"> <A HREF="../index.htm"><IMG SRC="../books.gif" BORDER="0" ALT="[Return to Library]"></A> <A HREF="auarf002.htm#ToC"><IMG SRC="../toc.gif" BORDER="0" ALT="[Contents]"></A> <A HREF="auarf232.htm"><IMG SRC="../prev.gif" BORDER="0" ALT="[Previous Topic]"></A> <A HREF="#Bot_Of_Page"><IMG SRC="../bot.gif" BORDER="0" ALT="[Bottom of Topic]"></A> <A HREF="auarf234.htm"><IMG SRC="../next.gif" BORDER="0" ALT="[Next Topic]"></A> <A HREF="auarf284.htm#HDRINDEX"><IMG SRC="../index.gif" BORDER="0" ALT="[Index]"></A> <P> 
<P>
<H2><A NAME="HDRSCOUT" HREF="auarf002.htm#ToC_247">scout</A></H2>
<A NAME="IDX5447"></A>
<A NAME="IDX5448"></A>
<A NAME="IDX5449"></A>
<A NAME="IDX5450"></A>
<A NAME="IDX5451"></A>
<A NAME="IDX5452"></A>
<A NAME="IDX5453"></A>
<A NAME="IDX5454"></A>
<A NAME="IDX5455"></A>
<A NAME="IDX5456"></A>
<P><STRONG>Purpose</STRONG>
<P>Monitors the File Server process
<P><STRONG>Synopsis</STRONG>
<PRE><B>scout</B> [<B>initcmd</B>]  <B>-server</B> &lt;<VAR>FileServer&nbsp;name(s)&nbsp;to&nbsp;monitor</VAR>><SUP>+</SUP>
      [<B>-basename</B> &lt;<VAR>base&nbsp;server&nbsp;name</VAR>>]  
      [<B>-frequency</B> &lt;<VAR>poll&nbsp;frequency,&nbsp;in&nbsp;seconds</VAR>>]  [<B>-host</B>]  
      [<B>-attention</B> &lt;<VAR>specify&nbsp;attention&nbsp;(highlighting)&nbsp;level</VAR>><SUP>+</SUP>]
      [<B>-debug</B> &lt;<VAR>turn&nbsp;debugging&nbsp;output&nbsp;on&nbsp;to&nbsp;the&nbsp;named&nbsp;file</VAR>>]  [<B>-help</B>]
    
<B>scout</B> [<B>i</B>]  <B>-s</B> &lt;<VAR>FileServer&nbsp;name(s)&nbsp;to&nbsp;monitor</VAR>><SUP>+</SUP>  
      [<B>-b</B> &lt;<VAR>base&nbsp;server&nbsp;name</VAR>>] [<B>-f</B> &lt;<VAR>poll&nbsp;frequency,&nbsp;in&nbsp;seconds</VAR>>] 
      [<B>-ho</B>]  [<B>-a</B> &lt;<VAR>specify&nbsp;attention&nbsp;(highlighting)&nbsp;level</VAR>><SUP>+</SUP>]
      [<B>-d</B> &lt;<VAR>turn&nbsp;debugging&nbsp;output&nbsp;on&nbsp;to&nbsp;the&nbsp;named&nbsp;file</VAR>>]  [<B>-he</B>]
</PRE>
<P><STRONG>Description</STRONG>
<P>The <B>scout</B> command displays statistics gathered from the File
Server process running on each machine specified with the <B>-server</B>
argument. The <B>Output</B> section explains the meaning of the
statistics and describes how they appear in the command shell, which is
preferably a window managed by a window manager program.
<P><STRONG>Cautions</STRONG>
<P>The <B>scout</B> program must be able to access the <B>curses</B>
graphics package, which it uses to display statistics. Most UNIX
distributions include <B>curses</B> as a standard utility.
<P>Both dumb terminals and windowing systems that emulate terminals can
display the <B>scout</B> program&#39;s statistics. The display
makes use of reverse video and cursor addressing, so the display environment
must support those features for it to look its best (most windowing systems
do, most dumb terminals do not). Also, set the TERM environment
variable to the correct terminal type, or one with characteristics similar to
the actual ones. For machines running the AIX operating system, the
recommended setting for TERM is <B>vt100</B>, as long as the terminal is
similar to that. For other operating systems, the wider range of
acceptable values includes <B>xterm</B>, <B>xterms</B>,
<B>vt100</B>, <B>vt200</B>, and <B>wyse85</B>.
<P><STRONG>Options</STRONG>
<DL>
<P><DT><B>initcmd
</B><DD>Accommodates the command&#39;s use of the AFS command parser, and is
optional.
<P><DT><B>-server
</B><DD>Specifies each file server machine running a File Server process to
monitor. Provide each machine&#39;s fully qualified hostname unless
the <B>-basename</B> argument is used. In that case, specify only
the unique initial part of each machine name, omitting the domain name suffix
(the basename) common to all the names. It is also acceptable to use
the shortest abbreviated form of a host name that distinguishes it from other
machines, but successful resolution depends on the availability of a name
resolution service (such as the Domain Name Service or a local host table) at
the time the command is issued.
<P><DT><B>-basename
</B><DD>Specifies the basename (domain name) suffix common to all of the file
server machine names specified with the <B>-server</B> argument, and is
automatically appended to them. This argument is normally the name of
the cell to which the machines belong. Do not include the period that
separates this suffix from the distinguishing part of each file server machine
name, but do include any periods that occur within the suffix itself.
For example, in the ABC Corporation cell, the proper value is
<B>abc.com</B> rather than
<B>.abc.com</B>.
<P><DT><B>-frequency
</B><DD>Indicates how often to probe the File Server processes. Specify a
number of seconds greater than <B>0</B> (zero). The default is 60
seconds.
<P><DT><B>-host
</B><DD>Displays the name of the machine that is running the <B>scout</B>
program, in the banner line of the display screen.
<P><DT><B>-attention
</B><DD>Defines a list of entries, each of which pairs a statistic and a threshold
value. When the value of the statistic exceeds the indicated threshold
value, it is highlighted (in reverse video) in the display. List the
pairs in any order. The acceptable values are the following&#58; 
<UL>
<P><LI><B>conn</B> <VAR>connections</VAR>. Indicates the number of open
connections to client processes at which to highlight the statistic.
The statistic returns to regular display when the value goes back below the
threshold. There is no default threshold. 
<P>An example of an acceptable value is <B>conn 300</B>.
<P><LI><B>disk</B>, which takes one of two types of values&#58; 
<UL>
<P><LI><B>disk</B> <VAR>blocks_free</VAR>. Indicates the number of
remaining free kilobyte blocks at which to highlight the statistic. The
statistic returns to regular display when the value again exceeds the
threshold. There is no default threshold. 
<P>An example of an acceptable value is <B>disk 5000</B>.
<P><LI><B>disk</B> <VAR>percent_full</VAR><B>%</B>. Indicates the
percentage of disk usage at which to highlight the statistic. The
statistic returns to regular display when the value goes back below the
threshold. The default threshold is 95%. Acceptable values are
the integers in the range from <B>0</B> to <B>99</B>, followed by the
percent sign (<B>%</B>) to distinguish this type of value from the one
described just previously. 
<P>An example is <B>disk 90%</B>.
</UL>
<P><LI><B>fetch</B> <VAR>fetch_RPCs</VAR>. Indicates the cumulative
number of fetch RPCs from client processes at which to highlight the
statistic. The statistic does not return to regular display until the
File Server process restarts, at which time the value returns to zero.
There is no default threshold. 
<P>Example of a legal value&#58; <B>fetch 6000000</B>
<P><LI><B>store</B> <VAR>store_RPCs</VAR>. Indicates the cumulative
number of store RPCs from client processes at which to highlight the
statistic. The statistic does not return to regular display until the
File Server process restarts, at which time the value returns to zero.
There is no default threshold. 
<P>Example of an acceptable value&#58; <B>store 200000</B>
<P><LI><B>ws</B> <VAR>active_client_machines</VAR>. Indicates the number
of client machines with active open connections at which to highlight the
statistic. An active connection is defined as one over which the File
Server and client have communicated in the last 15 minutes. The
statistic returns to regular display when the value goes back below the
threshold. There is no default threshold. 
<P>Example of an acceptable value&#58; <B>ws 65</B>
</UL>
<P><DT><B>-debug
</B><DD>Specifies the pathname of the file into which to write a debugging
trace. Partial pathnames are interpreted relative to the current
working directory.
<P><DT><B>-help
</B><DD>Prints the online help for this command. All other valid options
are ignored.
</DL>
<P><STRONG>Output</STRONG>
<P>The <B>scout</B> program can display statistics either in a dedicated
window or on a plain screen if a windowing environment is not
available. For best results, the window or screen needs the ability to
print in reverse video.
<P>The <B>scout</B> screen has three main parts&#58; the banner line,
the statistics display region and the message/probe line.
<P><B><I>The Banner Line</I></B>
<P>By default, the string <TT>Scout</TT> appears in the banner line at the
top of the window or screen. Two optional arguments place additional
information in the banner line&#58;
<UL>
<P><LI>The <B>-host</B> flag displays the name of the machine where the
<B>scout</B> program is running. As mentioned previously, this is
useful when running the <B>scout</B> program on several machines but
displaying the results on a single machine. 
<P>For example, when the <B>-host</B> flag is included and the
<B>scout</B> program is running on the machine
<B>client1.abc.com</B>, the banner line reads as
follows&#58; 
<PRE>   [client1.abc.com] Scout
   
</PRE>
<P><LI>The <B>-basename</B> argument displays the indicated basename on the
banner line. For example, including the argument <B>-basename
abc.com</B> argument results in the following banner line&#58;
<PRE>   Scout for abc.com
   
</PRE>
</UL>
<P><B><I>The Statistics Display Region</I></B>
<P>In this region, which occupies the majority of the window, the
<B>scout</B> process displays the statistics gathered for each File Server
process. Each process appears on its own line.
<P>The region is divided into six columns, labeled as indicated and displaying
the following information&#58;
<A NAME="IDX5457"></A>
<A NAME="IDX5458"></A>
<UL>
<P><LI><TT>Conn</TT>&#58; The first column displays the number of RPC
connections open between the File Server process and client machines.
This number equals or exceeds the number in the <TT>Ws</TT> column (see the
fourth entry below), because each user on the machine can have several
separate connections open at once, and one client machine can handle several
users. 
<A NAME="IDX5459"></A>
<P><LI><TT>Fetch</TT>&#58; The second column displays the number of
fetch-type RPCs (fetch data, fetch access list, and fetch status) that client
machines have made to the File Server process since the latter started.
This number is reset to zero each time the File Server process
restarts. 
<A NAME="IDX5460"></A>
<P><LI><TT>Store</TT>&#58; The third column displays the number of store-type
RPCs (store data, store access list, and store status) that client machines
have made to the File Server process since the latter started. This
number is reset to zero each time the File Server process restarts. 
<A NAME="IDX5461"></A>
<P><LI><TT>Ws</TT>&#58; The fourth column displays the number of client
machines (<TT>Ws</TT> stands for workstations) that have communicated with
the File Server process within the last 15 minutes. Such machines are
termed <I>active</I>). This number is likely to be smaller than the
number in the first (<TT>Conn</TT>) column because a single client machine
can have several connections open to one File Server. 
<A NAME="IDX5462"></A>
<A NAME="IDX5463"></A>
<A NAME="IDX5464"></A>
<P><LI>The fifth, unlabeled, column displays the name of the file server machine
on which the File Server process is running. Names of 12 characters or
less are displayed in full; longer names are truncated and an asterisk
(<TT>*</TT>) appears as the last character in the name. Using the
<B>-basename</B> argument is a good way to avoid truncation, but only if
all machine names end in a common string.
<P><LI><TT>Disk attn</TT>&#58; The sixth column displays the number of
available kilobyte blocks on each AFS disk partition on the file server
machine. 
<A NAME="IDX5465"></A>
<A NAME="IDX5466"></A>
<A NAME="IDX5467"></A>
 The display for each partition has the following form&#58; 
<PRE>   x&#58;<VAR>free_blocks</VAR>
   
</PRE> 
<P>where <TT>x</TT> indicates the partition name. For example,
<TT><B>a&#58;8949</B></TT> specifies that the <B>/vicepa</B>
partition has 8,949 1-KB blocks free. Available space can be displayed
for up to 26 partitions. If the window is not wide enough for all
partition entries to appear on a single line, the <B>scout</B> process
automatically creates multiple lines, stacking the partition entries into
sub-columns within the sixth column.
<P>The label on the <TT>Disk</TT> <TT>attn</TT> column indicates the
threshold value at which entries in the column become highlighted. By
default, the label is
<PRE>   Disk attn&#58; > 95% used
   
</PRE> 
<P>because by default the <B>scout</B> program highlights the entry for
any partition that is over 95% full.
</UL>
<P>For all columns except the fifth (file server machine name), the optional
<B>-attention</B> argument sets the value at which entries in the column
are highlighted to indicate that a certain value has been exceeded.
Only values in the fifth and <TT>Disk attn</TT> columns ever become
highlighted by default.
<P>If the <B>scout</B> program is unable to access or otherwise obtain
information about a partition, it generates a message similar to the following
example&#58;
<PRE>   Could not get information on server fs1.abc.com partition /vicepa
   
</PRE>
<P><B><I>The Message/Probe Line</I></B>
<P>The bottom line of the <B>scout</B> screen indicates how many times the
<B>scout</B> program has probed the File Server processes for
statistics. The statistics gathered in the latest probe appear in the
statistics display region. The <B>-frequency</B> argument overrides
the default probe frequency of 60 seconds.
<P><STRONG>Examples</STRONG>
<P>See the chapter on monitoring tools in the <I>AFS Administration
Guide</I>, which illustrates the displays that result from different
combinations of options.
<P><STRONG>Privilege Required</STRONG>
<P>None
<P><STRONG>Related Information</STRONG>
<P><A HREF="auarf059.htm#HDRAFSMONITOR">afsmonitor</A>
<P><A HREF="auarf169.htm#HDRFSTRACE_INTRO">fstrace</A>
<P>
<HR><P ALIGN="center"> <A HREF="../index.htm"><IMG SRC="../books.gif" BORDER="0" ALT="[Return to Library]"></A> <A HREF="auarf002.htm#ToC"><IMG SRC="../toc.gif" BORDER="0" ALT="[Contents]"></A> <A HREF="auarf232.htm"><IMG SRC="../prev.gif" BORDER="0" ALT="[Previous Topic]"></A> <A HREF="#Top_Of_Page"><IMG SRC="../top.gif" BORDER="0" ALT="[Top of Topic]"></A> <A HREF="auarf234.htm"><IMG SRC="../next.gif" BORDER="0" ALT="[Next Topic]"></A> <A HREF="auarf284.htm#HDRINDEX"><IMG SRC="../index.gif" BORDER="0" ALT="[Index]"></A> <P> 
<!-- Begin Footer Records  ========================================== -->
<P><HR><B> 
<br>&#169; <A HREF="http://www.ibm.com/">IBM Corporation 2000.</A>  All Rights Reserved 
</B> 
<!-- End Footer Records  ============================================ -->
<A NAME="Bot_Of_Page"></A>
</BODY></HTML>
