<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML 3//EN">
<HTML><HEAD>
<TITLE>Administration Reference</TITLE>
<!-- Begin Header Records  ========================================== -->
<!-- /tmp/idwt3190/auarf000.scr converted by idb2h R4.2 (359) ID      -->
<!-- Workbench Version (AIX) on 5 Nov 1999 at 13:58:29                -->
<META HTTP-EQUIV="updated" CONTENT="Fri, 05 Nov 1999 13:58:29">
<META HTTP-EQUIV="review" CONTENT="Sun, 05 Nov 2000 13:58:29">
<META HTTP-EQUIV="expires" CONTENT="Mon, 05 Nov 2001 13:58:29">
</HEAD><BODY>
<!-- (C) IBM Corporation 2000. All Rights Reserved    --> 
<BODY bgcolor="ffffff"> 
<!-- End Header Records  ============================================ -->
<A NAME="Top_Of_Page"></A>
<H1>Administration Reference</H1>
<HR><P ALIGN="center"> <A HREF="../index.htm"><IMG SRC="../books.gif" BORDER="0" ALT="[Return to Library]"></A> <A HREF="auarf002.htm#ToC"><IMG SRC="../toc.gif" BORDER="0" ALT="[Contents]"></A> <A HREF="auarf264.htm"><IMG SRC="../prev.gif" BORDER="0" ALT="[Previous Topic]"></A> <A HREF="#Bot_Of_Page"><IMG SRC="../bot.gif" BORDER="0" ALT="[Bottom of Topic]"></A> <A HREF="auarf266.htm"><IMG SRC="../next.gif" BORDER="0" ALT="[Next Topic]"></A> <A HREF="auarf284.htm#HDRINDEX"><IMG SRC="../index.gif" BORDER="0" ALT="[Index]"></A> <P> 
<P>
<H2><A NAME="HDRVOS_LISTVLDB" HREF="auarf002.htm#ToC_279">vos listvldb</A></H2>
<A NAME="IDX5708"></A>
<A NAME="IDX5709"></A>
<A NAME="IDX5710"></A>
<A NAME="IDX5711"></A>
<A NAME="IDX5712"></A>
<A NAME="IDX5713"></A>
<A NAME="IDX5714"></A>
<A NAME="IDX5715"></A>
<A NAME="IDX5716"></A>
<A NAME="IDX5717"></A>
<A NAME="IDX5718"></A>
<P><STRONG>Purpose</STRONG>
<P>Displays a volume&#39;s VLDB entry
<P><STRONG>Synopsis</STRONG>
<PRE><B>vos listvldb</B> [<B>-name</B> &lt;<VAR>volume&nbsp;name&nbsp;or&nbsp;ID</VAR>>]  [<B>-server</B> &lt;<VAR>machine&nbsp;name</VAR>>]  
             [<B>-partition</B> &lt;<VAR>partition&nbsp;name</VAR>>]  [<B>-locked</B>]  [<B>-quiet</B>]  [<B>-nosort</B>]  
             [<B>-cell</B> &lt;<VAR>cell&nbsp;name</VAR>>]  [<B>-noauth</B>]  [<B>-localauth</B>]  [<B>-verbose</B>]  [<B>-help</B>]
    
<B>vos listvl</B> [<B>-na</B> &lt;<VAR>volume&nbsp;name&nbsp;or&nbsp;ID</VAR>>]  [<B>-s</B> &lt;<VAR>machine&nbsp;name</VAR>>]
           [<B>-p</B> &lt;<VAR>partition&nbsp;name</VAR>>]  [<B>-lock</B>]  [<B>-q</B>]  [<B>-nos</B>]  [<B>-c</B> &lt;<VAR>cell&nbsp;name</VAR>>]  
           [<B>-noa</B>]  [<B>-loca</B>]  [<B>-v</B>]  [<B>-h</B>]
</PRE>
<P><STRONG>Description</STRONG>
<P>The <B>vos listvldb</B> command formats and displays information from
the Volume Location Database (VLDB) entry for each volume specified.
The output depends on the combination of options supplied on the command
line. Combine options as indicated to display the desired type of VLDB
entries&#58;
<UL>
<P><LI>Every entry in the VLDB&#58; provide no options
<P><LI>Every VLDB entry that mentions a certain file server machine as the site
for a volume&#58; specify the machine&#39;s name as the <B>-server</B>
argument
<P><LI>Every VLDB entry that mentions a certain partition on any file server
machine as the site for a volume&#58; specify the partition name as the
<B>-partition</B> argument
<P><LI>Every VLDB entry that mentions a certain partition on a certain file
server machine as the site for a volume&#58; combine the <B>-server</B>
and <B>-partition</B> arguments
<P><LI>A single VLDB entry&#58; specify a volume name or ID number with the
<B>-name</B> argument
<P><LI>The VLDB entry only for the volumes with locked VLDB entries found at a
certain site&#58; combine the <B>-locked</B> flag with any of arguments
that define sites
</UL>
<P><STRONG>Options</STRONG>
<DL>
<P><DT><B>-name
</B><DD>Specifies either the complete name or volume ID number of a volume of any
of the three types.
<P><DT><B>-server
</B><DD>Identifies the file server machine listed as a site in each VLDB entry to
display. Provide the machine&#39;s IP address or its host name (either
fully qualified or using an unambiguous abbreviation). For details, see
the introductory reference page for the <B>vos</B> command suite. 
<P>This argument can be combined with the <B>-partition</B> argument, the
<B>-locked</B> flag, or both.
<P><DT><B>-partition
</B><DD>Identifies the partition (on the file server machine specified by the
<B>-server</B> argument) listed as a site in each VLDB entry to
display. Provide the partition&#39;s complete name with preceding
slash (for example, <B>/vicepa</B>) or use one of the three acceptable
abbreviated forms. For details, see the introductory reference page for
the <B>vos</B> command suite. 
<P>This argument can be combined with the <B>-server</B> argument, the
<B>-locked</B> flag, or both.
<P><DT><B>-locked
</B><DD>Displays only locked VLDB entries. This flag can be combined with
the <B>-server</B> argument, the <B>-partition</B> argument, or
both.
<P><DT><B>-quiet
</B><DD>Suppresses the lines that summarize the number of volumes listed and their
status, which otherwise appear at the beginning and end of the output when the
output includes more than one volume.
<P><DT><B>-nosort
</B><DD>Suppresses the default sorting of volume entries alphabetically by volume
name.
<P><DT><B>-cell
</B><DD>Names the cell in which to run the command. Do not combine this
argument with the <B>-localauth</B> flag. For more details, see the
introductory <B>vos</B> reference page.
<P><DT><B>-noauth
</B><DD>Assigns the unprivileged identity <B>anonymous</B> to the
issuer. Do not combine this flag with the <B>-localauth</B>
flag. For more details, see the introductory <B>vos</B> reference
page.
<P><DT><B>-localauth
</B><DD>Constructs a server ticket using a key from the local
<B>/usr/afs/etc/KeyFile</B> file. The <B>vos</B> command
interpreter presents it to the Volume Server and Volume Location Server during
mutual authentication. Do not combine this flag with the
<B>-cell</B> argument or <B>-noauth</B> flag. For more details,
see the introductory <B>vos</B> reference page.
<P><DT><B>-verbose
</B><DD>Produces on the standard output stream a detailed trace of the
command&#39;s execution. If this argument is omitted, only warnings
and error messages appear.
<P><DT><B>-help
</B><DD>Prints the online help for this command. All other valid options
are ignored.
</DL>
<P><STRONG>Output</STRONG>
<P>If the output includes more than one VLDB entry, by default the first line
reports which file server machine, partition, or both, houses the
volumes. The final line of output reports the total number of entries
displayed. Including the <B>-quiet</B> flag suppresses these
lines.
<P>By default, volumes are sorted alphabetically by volume name.
Including the <B>-nosort</B> flag skips the sorting step, which can speed
up the production of output if there are a large number of entries.
<P>The VLDB entry for each volume includes the following information&#58;
<UL>
<P><LI>The base (read/write) volume name. The read-only and backup
versions have the same name with a <B>.readonly</B> and
<B>.backup</B> extension, respectively.
<P><LI>The volume ID numbers allocated to the versions of the volume that
actually exist, in fields labeled <TT>RWrite</TT> for the read/write,
<TT>ROnly</TT> for the read-only, <TT>Backup</TT> for the backup, and
<TT>RClone</TT> for the ReleaseClone. (If a field does not appear,
the corresponding version of the volume does not exist.) The appearance
of the <TT>RClone</TT> field normally indicates that a release operation did
not complete successfully; the <TT>Old release</TT> and <TT>New
release</TT> flags often also appear on one or more of the site definition
lines described just following.
<A NAME="IDX5719"></A>
<A NAME="IDX5720"></A>
<P><LI>The number of sites that house a read/write or read-only copy of the
volume, following the string <TT>number of sites -></TT>.
<A NAME="IDX5721"></A>
<A NAME="IDX5722"></A>
<A NAME="IDX5723"></A>
<A NAME="IDX5724"></A>
<A NAME="IDX5725"></A>
<P><LI>A line for each site that houses a read/write or read-only copy of the
volume, specifying the file server machine, partition, and type of volume
(<TT>RW</TT> for read/write or <TT>RO</TT> for read-only). If a
backup version exists, it is understood to share the read/write site.
Several flags can appear with a site definition&#58; 
<DL>
<A NAME="IDX5726"></A>
<P><DT><B><TT>Not released</TT>
</B><DD>Indicates that the <B>vos release</B> command has not been issued
since the <B>vos addsite</B> command was used to define the read-only
site.
<A NAME="IDX5727"></A>
<P><DT><B><TT>Old release</TT>
</B><DD>Indicates that a <B>vos release</B> command did not complete
successfully, leaving the previous, obsolete version of the volume at this
site.
<A NAME="IDX5728"></A>
<P><DT><B><TT>New release</TT>
</B><DD>Indicates that a <B>vos release</B> command did not complete
successfully, but that this site did receive the correct new version of the
volume.
</DL>
<P><LI>If the VLDB entry is locked, the string <TT>Volume is currently
LOCKED</TT>.
</UL>
<P>For further discussion of the <TT>New release</TT> and <TT>Old
release</TT> flags, see the reference page for the <B>vos release</B>
command.
<P><STRONG>Examples</STRONG>
<P>The following command displays VLDB information for the ABC Corporation
volume called <B>usr</B>, which has two read-only replication sites&#58;
<PRE>   % <B>vos listvldb -name usr</B>
   usr 
    RWrite&#58; 5360870981   ROnly&#58; 536870982   Backup&#58; 536870983
    number of sites -> 3
       server fs1.abc.com partition /vicepa RO Site 
       server fs3.abc.com partition /vicepa RO Site 
       server fs2.abc.com partition /vicepb RW Site 
   
</PRE>
<P>The following example shows entries for two of the volumes that reside on
the file server machine <B>fs4.abc.com</B>. The first
VLDB entry is currently locked. There are 508 entries that mention the
machine as a volume site.
<PRE>   % <B>vos listvldb -server fs4.abc.com</B>
   VLDB entries for server fs4.abc.com
       .       .           .        .
       .       .           .        .
   user.smith 
    RWrite&#58; 278541326   ROnly&#58; 278541327   Backup&#58; 278542328
    number of sites -> 1
      server fs4.abc.com partition /vicepg RW Site 
    Volume is currently LOCKED
      user.terry
    RWrite 354287190   ROnly 354287191   Backup 354287192
    number of sites -> 1
      server fs4.abc.com partition /vicepc RW Site 
      .       .           .        .
      .       .           .        .
   Total entries&#58; 508
   
</PRE>
<P><STRONG>Privilege Required</STRONG>
<P>None
<P><STRONG>Related Information</STRONG>
<P><A HREF="auarf252.htm#HDRVOS_INTRO">vos</A>
<P><A HREF="auarf261.htm#HDRVOS_EXAMINE">vos examine</A>
<P><A HREF="auarf266.htm#HDRVOS_LISTVOL">vos listvol</A>
<P><A HREF="auarf267.htm#HDRVOS_LOCK">vos lock</A>
<P><A HREF="auarf278.htm#HDRVOS_UNLOCK">vos unlock</A>
<P><A HREF="auarf279.htm#HDRVOS_UNLOCKVLDB">vos unlockvldb</A>
<P>
<HR><P ALIGN="center"> <A HREF="../index.htm"><IMG SRC="../books.gif" BORDER="0" ALT="[Return to Library]"></A> <A HREF="auarf002.htm#ToC"><IMG SRC="../toc.gif" BORDER="0" ALT="[Contents]"></A> <A HREF="auarf264.htm"><IMG SRC="../prev.gif" BORDER="0" ALT="[Previous Topic]"></A> <A HREF="#Top_Of_Page"><IMG SRC="../top.gif" BORDER="0" ALT="[Top of Topic]"></A> <A HREF="auarf266.htm"><IMG SRC="../next.gif" BORDER="0" ALT="[Next Topic]"></A> <A HREF="auarf284.htm#HDRINDEX"><IMG SRC="../index.gif" BORDER="0" ALT="[Index]"></A> <P> 
<!-- Begin Footer Records  ========================================== -->
<P><HR><B> 
<br>&#169; <A HREF="http://www.ibm.com/">IBM Corporation 2000.</A>  All Rights Reserved 
</B> 
<!-- End Footer Records  ============================================ -->
<A NAME="Bot_Of_Page"></A>
</BODY></HTML>
