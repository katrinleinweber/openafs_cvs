<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML 3//EN">
<HTML><HEAD>
<TITLE>Administration Reference</TITLE>
<!-- Begin Header Records  ========================================== -->
<!-- /tmp/idwt3190/auarf000.scr converted by idb2h R4.2 (359) ID      -->
<!-- Workbench Version (AIX) on 5 Nov 1999 at 13:58:29                -->
<META HTTP-EQUIV="updated" CONTENT="Fri, 05 Nov 1999 13:58:29">
<META HTTP-EQUIV="review" CONTENT="Sun, 05 Nov 2000 13:58:29">
<META HTTP-EQUIV="expires" CONTENT="Mon, 05 Nov 2001 13:58:29">
</HEAD><BODY>
<!-- (C) IBM Corporation 2000. All Rights Reserved    --> 
<BODY bgcolor="ffffff"> 
<!-- End Header Records  ============================================ -->
<A NAME="Top_Of_Page"></A>
<H1>Administration Reference</H1>
<HR><P ALIGN="center"> <A HREF="../index.htm"><IMG SRC="../books.gif" BORDER="0" ALT="[Return to Library]"></A> <A HREF="auarf002.htm#ToC"><IMG SRC="../toc.gif" BORDER="0" ALT="[Contents]"></A> <A HREF="auarf179.htm"><IMG SRC="../prev.gif" BORDER="0" ALT="[Previous Topic]"></A> <A HREF="#Bot_Of_Page"><IMG SRC="../bot.gif" BORDER="0" ALT="[Bottom of Topic]"></A> <A HREF="auarf181.htm"><IMG SRC="../next.gif" BORDER="0" ALT="[Next Topic]"></A> <A HREF="auarf284.htm#HDRINDEX"><IMG SRC="../index.gif" BORDER="0" ALT="[Index]"></A> <P> 
<P>
<H2><A NAME="HDRKADB_CHECK" HREF="auarf002.htm#ToC_194">kadb_check</A></H2>
<A NAME="IDX5054"></A>
<A NAME="IDX5055"></A>
<A NAME="IDX5056"></A>
<P><STRONG>Purpose</STRONG>
<P>Checks the integrity of the Authentication Database
<P><STRONG>Synopsis</STRONG>
<PRE><B>kadb_check -database</B> &lt;<VAR>kadb_file</VAR>>  [<B>-uheader</B>]  [<B>-kheader</B>]  [<B>-entries</B>]  
           [<B>-verbose</B>]  [<B>-rebuild</B> &lt;<VAR>out_file</VAR>>]  [<B>-help</B>]
   
<B>kadb_check -d</B> &lt;<VAR>kadb_file</VAR>>  [<B>-u</B>]  [<B>-k</B>]  [<B>-e</B>]  [<B>-v</B>]  [<B>-r</B> &lt;<VAR>out_file</VAR>>]  [<B>-h</B>]
</PRE>
<P><STRONG>Description</STRONG>
<P>The <B>kadb_check</B> command checks the integrity of the Protection
Database, reporting any errors or corruption it finds. If there are
problems, do not issue any <B>kas</B> commands until the database is
repaired.
<P><STRONG>Cautions</STRONG>
<P>The results can be unpredictable if the Authentication Server makes changes
to the Authentication Database while this command is running. Use the
<B>bos shutdown</B> command to shutdown the local <B>kaserver</B>
process before running this command, or before creating a second copy of the
<B>kaserver.DB0</B> file (with a different name) on which to run
the command.
<P><STRONG>Options</STRONG>
<DL>
<P><DT><B>-database
</B><DD>Names the Authentication Database (copy of the
<B>kaserver.DB0</B> file) to check. If the current working
directory is not the location of the file, provide a pathname, either full or
relative to the current working directory.
<P><DT><B>-uheader
</B><DD>Displays information which Ubik maintains in the database&#39;s
header.
<P><DT><B>-kheader
</B><DD>Displays information which the Authentication Server maintains in the
database&#39;s header.
<P><DT><B>-entries
</B><DD>Outputs every entry in the database, providing information similar to that
returned by the <B>kas examine</B> command.
<P><DT><B>-verbose
</B><DD>Reports additional information about the database, including the number of
free (allocated but unused) entries in the database.
<P><DT><B>-rebuild
</B><DD>Names the file in which to record a list of <B>kas</B> commands which,
if issued in the command shell, recreate the current state of the database
being verified. Partial pathnames are interpreted relative to the
current working directory.
<P><DT><B>-help
</B><DD>Prints the online help for this command. All other valid options
are ignored.
</DL>
<P><STRONG>Output</STRONG>
<P>If there are errors in the database, the output always reports them on the
standard error stream. If any options other than <B>-database</B>
or <B>-help</B> are provided, the output written to the standard output
stream includes additional information as described for each option in the
preceding <B>Options</B> section of this reference page. The output
is intended for debugging purposes and is meaningful to someone familiar with
the internal structure of the Authentication Database.
<P><STRONG>Privilege Required</STRONG>
<P>The issuer must be logged in as the local superuser <B>root</B>.
<P><STRONG>Related Information</STRONG>
<P><A HREF="auarf045.htm#HDRKASERVERDB">kaserver.DB0 and kaserver.DBSYS1</A>
<P><A HREF="auarf118.htm#HDRBOS_SHUTDOWN">bos shutdown</A>
<P><A HREF="auarf185.htm#HDRKAS_EXAMINE">kas examine</A>
<P><A HREF="auarf198.htm#HDRKASERVER">kaserver</A>
<P>
<HR><P ALIGN="center"> <A HREF="../index.htm"><IMG SRC="../books.gif" BORDER="0" ALT="[Return to Library]"></A> <A HREF="auarf002.htm#ToC"><IMG SRC="../toc.gif" BORDER="0" ALT="[Contents]"></A> <A HREF="auarf179.htm"><IMG SRC="../prev.gif" BORDER="0" ALT="[Previous Topic]"></A> <A HREF="#Top_Of_Page"><IMG SRC="../top.gif" BORDER="0" ALT="[Top of Topic]"></A> <A HREF="auarf181.htm"><IMG SRC="../next.gif" BORDER="0" ALT="[Next Topic]"></A> <A HREF="auarf284.htm#HDRINDEX"><IMG SRC="../index.gif" BORDER="0" ALT="[Index]"></A> <P> 
<!-- Begin Footer Records  ========================================== -->
<P><HR><B> 
<br>&#169; <A HREF="http://www.ibm.com/">IBM Corporation 2000.</A>  All Rights Reserved 
</B> 
<!-- End Footer Records  ============================================ -->
<A NAME="Bot_Of_Page"></A>
</BODY></HTML>
