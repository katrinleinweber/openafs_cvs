<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML 3//EN">
<HTML><HEAD>
<TITLE>Administration Reference</TITLE>
<!-- Begin Header Records  ========================================== -->
<!-- /tmp/idwt3190/auarf000.scr converted by idb2h R4.2 (359) ID      -->
<!-- Workbench Version (AIX) on 5 Nov 1999 at 13:58:29                -->
<META HTTP-EQUIV="updated" CONTENT="Fri, 05 Nov 1999 13:58:29">
<META HTTP-EQUIV="review" CONTENT="Sun, 05 Nov 2000 13:58:29">
<META HTTP-EQUIV="expires" CONTENT="Mon, 05 Nov 2001 13:58:29">
</HEAD><BODY>
<!-- (C) IBM Corporation 2000. All Rights Reserved    --> 
<BODY bgcolor="ffffff"> 
<!-- End Header Records  ============================================ -->
<A NAME="Top_Of_Page"></A>
<H1>Administration Reference</H1>
<HR><P ALIGN="center"> <A HREF="../index.htm"><IMG SRC="../books.gif" BORDER="0" ALT="[Return to Library]"></A> <A HREF="auarf002.htm#ToC"><IMG SRC="../toc.gif" BORDER="0" ALT="[Contents]"></A> <A HREF="auarf157.htm"><IMG SRC="../prev.gif" BORDER="0" ALT="[Previous Topic]"></A> <A HREF="#Bot_Of_Page"><IMG SRC="../bot.gif" BORDER="0" ALT="[Bottom of Topic]"></A> <A HREF="auarf159.htm"><IMG SRC="../next.gif" BORDER="0" ALT="[Next Topic]"></A> <A HREF="auarf284.htm#HDRINDEX"><IMG SRC="../index.gif" BORDER="0" ALT="[Index]"></A> <P> 
<P>
<H2><A NAME="HDRFS_SETCACHESIZE" HREF="auarf002.htm#ToC_172">fs setcachesize</A></H2>
<A NAME="IDX4947"></A>
<A NAME="IDX4948"></A>
<A NAME="IDX4949"></A>
<A NAME="IDX4950"></A>
<A NAME="IDX4951"></A>
<A NAME="IDX4952"></A>
<A NAME="IDX4953"></A>
<A NAME="IDX4954"></A>
<P><STRONG>Purpose</STRONG>
<P>Sets the size of the disk cache
<P><STRONG>Synopsis</STRONG>
<PRE><B>fs setcachesize</B> [<B>-blocks</B> &lt;<VAR>size&nbsp;in&nbsp;1K&nbsp;byte&nbsp;blocks&nbsp;(0&nbsp;=>&nbsp;reset)</VAR>>]  
                [<B>-reset</B>]  [<B>-help</B>]
    
<B>fs setca</B>  [<B>-b</B> &lt;<VAR>size&nbsp;in&nbsp;1K&nbsp;byte&nbsp;blocks&nbsp;(0&nbsp;=>&nbsp;reset)</VAR>>]  [<B>-r</B>]  [<B>-h</B>]
      
<B>fs cachesize</B> [<B>-b</B> &lt;<VAR>size&nbsp;in&nbsp;1K&nbsp;byte&nbsp;blocks&nbsp;(0&nbsp;=>&nbsp;reset)</VAR>>]  [<B>-r</B>]  [<B>-h</B>]
  
<B>fs ca</B> [<B>-b</B> &lt;<VAR>size&nbsp;in&nbsp;1K&nbsp;byte&nbsp;blocks&nbsp;(0&nbsp;=>&nbsp;reset)</VAR>>]  [<B>-r</B>]  [<B>-h</B>]  
</PRE>
<P><STRONG>Description</STRONG>
<P>The <B>fs setcachesize</B> command changes the number of kilobyte
blocks of local disk space available to the Cache Manager for its data cache,
on machines that use a disk cache. The command is not operative on
machines that use a memory cache.
<P>To return the cache size to the default value specified in the third field
of the local <B>/usr/vice/etc/cacheinfo</B> file, provide a value of
<B>0</B> to the <B>-blocks</B> argument.
<P>To return the cache size to the value set when the machine was last
rebooted, use the <B>-reset</B> flag instead of the <B>-blocks</B>
argument. This is normally the amount specified in the
<B>cacheinfo</B> file, unless the <B>-blocks</B> argument was included
on the <B>afsd</B> command to override the <B>cacheinfo</B>
value.
<P>To display the current cache size and amount of cache in use, for both disk
and memory caches, use the <B>fs getcacheparms</B> command.
<P><STRONG>Cautions</STRONG>
<P>This command is not operative on machines using a memory cache, and results
in an error message. To change memory cache size, edit the
<B>cacheinfo</B> file and reboot, or reboot and provide the
<B>-blocks</B> argument to the <B>afsd</B> command.
<P>On machines using a disk cache, do not set the cache size to exceed 85% to
90% of the actual disk space available for the cache directory. The
cache implementation itself requires a small amount of space on the
partition.
<P><STRONG>Options</STRONG>
<DL>
<P><DT><B>-blocks
</B><DD>Specifies the number of one-kilobyte blocks of disk space available for
the Cache Manager to devote to the cache. Provide a value of
<B>0</B> to set cache size to the default specified in the
<B>cacheinfo</B> file.
<P><DT><B>-reset
</B><DD>Returns the cache size to the value set when the machine was last
booted. This agrees with the value in the <B>cacheinfo</B> file
unless the <B>-blocks</B> argument was used on the <B>afsd</B>
command.
<P><DT><B>-help
</B><DD>Prints the online help for this command. All other valid options
are ignored.
</DL>
<P><STRONG>Examples</STRONG>
<P>The following command sets the disk cache size to 25000 kilobyte
blocks.
<PRE>   % <B>fs setcachesize -blocks 25000</B>
   
</PRE>
<P>Both of the following commands reset the disk cache size to the value in
the <B>cacheinfo</B> file, assuming that the <B>-blocks</B> argument
to the <B>afsd</B> command was not used.
<PRE>   % <B>fs setcachesize -blocks 0</B>
   
   % <B>fs setcachesize -reset</B>
   
</PRE>
<P><STRONG>Privilege Required</STRONG>
<P>The issuer must be logged in as the local superuser <B>root</B>.
<P><STRONG>Related Information</STRONG>
<P><A HREF="auarf043.htm#HDRCACHEINFO">cacheinfo</A>
<P><A HREF="auarf058.htm#HDRAFSD">afsd</A>
<P><A HREF="auarf143.htm#HDRFS_GETCACHEPARMS">fs getcacheparms</A>
<P>
<HR><P ALIGN="center"> <A HREF="../index.htm"><IMG SRC="../books.gif" BORDER="0" ALT="[Return to Library]"></A> <A HREF="auarf002.htm#ToC"><IMG SRC="../toc.gif" BORDER="0" ALT="[Contents]"></A> <A HREF="auarf157.htm"><IMG SRC="../prev.gif" BORDER="0" ALT="[Previous Topic]"></A> <A HREF="#Top_Of_Page"><IMG SRC="../top.gif" BORDER="0" ALT="[Top of Topic]"></A> <A HREF="auarf159.htm"><IMG SRC="../next.gif" BORDER="0" ALT="[Next Topic]"></A> <A HREF="auarf284.htm#HDRINDEX"><IMG SRC="../index.gif" BORDER="0" ALT="[Index]"></A> <P> 
<!-- Begin Footer Records  ========================================== -->
<P><HR><B> 
<br>&#169; <A HREF="http://www.ibm.com/">IBM Corporation 2000.</A>  All Rights Reserved 
</B> 
<!-- End Footer Records  ============================================ -->
<A NAME="Bot_Of_Page"></A>
</BODY></HTML>
