fs monitor                 AFS Commands              fs monitor


NAME

   fs  monitor -- direct  reports  on  file system activity to

                       specified  machine,  or  report  current
                       monitoring machine.


   fs monitor [-server <host name> or <off>]  [-help]

ACCEPTABLE ABBREVIATIONS/ALIASES

   fs mo [-s <host name> or <off>]  [-h]

DESCRIPTION

   Depending   on  whether  the  issuer  provides  the  -server
   argument, and its value when provided:

   EITHER sets where the Cache Manager sends messages about
   file system activity (including its transactions with the Fi

   OR disables message sending

   OR reports the current destination for messages.

   The messages are of  a  less  technical  nature  than  those
   generated by the fs debug command.  They are at the level of
   file fetches and stores.

   In order for the messages to  be  displayed,  the  specified
   destination  machine  must  be  running a monitoring program
   that "listens" to the correct UDP socket. If the destination
   machine is not running such a program, then the messages are
   lost.

WARNING

   The effect of this command endures  even  after  the  issuer
   logs out.  See the EXAMPLE section below.

   Transarc  Corporation  does not provide a monitoring program
   appropriate for use with this command, but such  a  program,
   called "Console", is available as part of the Andrew Toolkit
   developed  at  Carnegie  Mellon   University's   Information
   Technology Center.

   If no monitoring program is available, it is best to provide
   a value of off for -server.



ARGUMENTS

   -server has two legal values: off or  a  machine  name  host
           name.

           If  set  to  off,  then  the  Cache Manager does not
           generate any reports on  its  role  in  file  system
           activities.    This  setting  is  recommended if the
           machine is not running a monitoring program  capable
           of   intercepting   and   displaying   the  messages
           produced.

           The issuer may otherwise specify a machine name host
           name  to which the Cache Manager will send messages.
           The host name  must  be  a  complete  Internet-style
           machine  name,  and  a  monitoring program should be
           running on the machine.    If  no  such  program  is
           running, the messages will simply be lost.

           If  the  issuer  does not provide this argument, the
           current monitor setting is displayed.

   -help   prints the online help entry for this command.    Do
           not  provide  any other arguments or flags with this
           one.  See section 3.1 in the  Reference  Manual  for
           more details.

OUTPUT

   When  no  arguments are provided, the output will report the
   name of the machine to which monitoring messages  are  being
   sent:

       Using host machine for monitor services.

   If monitoring is disabled, the output reports

       Cache monitoring is currently disabled.

EXAMPLES

   The  following shows that monitoring messages are being sent
   to machineQ.transarc.com.

       % fs mo
       Using host machineQ.transarc.com for monitor service

   The following  sets  the  machine's  monitoring  machine  to
   machineB.transarc.com.

       % fs monitor machineB.transarc.com
       fs: new monitor host set.

   As  an  example  of  the "lingering" effect of this command,
   suppose that a user working on machineA.transarc.com  issues
   the  example  command, and then logs out.  When another user
   logs on to machineA, he or she will  not  see  any  messages
   about  file system activity; instead, users of machineB will
   continue to see messages from  both  machineB  (their  local
   machine)  and machineA (the remote machine).  To avoid this,
   the original user on machineA should  issue  the  fs monitor



   command again before logging out, specifying host name to be
   machineA.transarc.com.

PRIVILEGE REQUIRED

   None.
