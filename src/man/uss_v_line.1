Template "V" line          AFS Commands       Template "V" line


NAME

   Template "V" line -- create a volume.


   V <volume name> <server> <partition> <quota> <mount point>
   <owner>
   <access list>

DESCRIPTION

   Has several effects:

      - creates a volume

      - creates a VLDB entry for the volume

      - mounts  the  volume  in  the  file  system  at the
        indicated place  in  the  file  tree,  effectively
        creating the user's home directory

      - sets the owner of the home directory

      - sets the home directory's access control list

   A  template  file  may  contain  only one "V" line, and must
   contain one unless the file is 0-length. No other lines  are
   necessary.    (This does not imply that the "V" line must be
   the first line in the template when there are  others.    If
   the  $AUTO  variable  appears  on the "V" line, then the "G"
   lines that provide values for it must appear above  the  "V"
   line.)

ARGUMENTS

   V         should  be  a capital letter and tells the command
             interpreter  that  this   is   a   volume-creation
             instruction.

   volume name
             is the volume's  name,  under  which  it  will  be
             listed in the VLDB.

             By  convention, AFS user volume names have a user.
             prefix followed by the user name. This is achieved
             by specifying

                user.$USER

             in this field.

   server    is  the  file  server  machine that will house the
             volume.   It  is  safest  to  provide  a  complete
             Internet-style  host  name  in  this  field.   The
             interpretation of a shortened form depends on  the
             state  of  the cell's name server when the uss add
             command is executed.



   partition defines which partition on server will  house  the
             volume.

             Acceptable  variants of the standard /vicepx-style
             name are:

                /vicepa     =     vicepa      =      a      =

                /vicepb     =     vicepb      =      b      =

             and so on up to

                /vicepz     =     vicepz      =      z      =

   quota     defines the  maximum  amount  of  disk  space  the
             volume  will be able to take up.  Specify a number
             of kilobyte blocks (so a value  of  1024  means  a
             megabyte).

   mount point
             defines the directory to be  created  as  a  mount
             point  for  the  volume.   The specified directory
             serves as the root directory for the volume  named
             in the <volume name> field.

             By  convention, AFS cells call home directories by
             the user's user name, so the $USER variable may be
             part of this field.

             Note:   This   field  defines  the  value  of  any
             occurrences of the $MTPT  variable  on  subsequent
             lines in the template.

   owner     names the owner (in the UNIX file system sense) of
             the home directory  named  in  the  <mount  point>
             field.     This  field  should  contain  the  $UID
             variable.

   access list
             defines  the  access control list for the new home
             directory.  The list may define one or more pairs,
             each consisting of

                - a user name or Protection Database group
                  name

                - the access rights

             separated by a space.  See the  fs setacl  command
             to  learn  about  the access rights available with
             AFS.

             At the least, the new user needs to be  given  all
             access rights.  This could be achieved with

                $USER all

             The  pairs  specified  are added to a default pair
             that grants system:anyuser  the  READ  and  LOOKUP
             rights.  Do not attempt to grant any rights to the
             issuer of the uss command.  As the  last  step  in



             account  creation,  the  uss  command  interpreter
             automatically deletes that person from any  access
             control lists set during the creation process.



EXAMPLE

   The  following,  appropriate  for  the  Transarc Corporation
   cell, creates a volume called user.user name on the  /vicepa
   partition of the specified file server machine, assigning it
   a quota of 3000 kilobyte blocks.  The volume is  mounted  in
   /afs/transarc.com/usr  as the value of $USER.  The user owns
   the home directory and has all access rights to  it.    This
   line would appear on a single line in the actual template.

       V user.$USER $SERVER.transarc.com /vicepa 3000
               /afs/transarc.com/usr/$USER $UID $USER all
