upclient                   AFS Commands                upclient


NAME

   upclient -- initialize client portion of Update Server.


   /usr/afs/bin/upclient  <source machine> [-t <checking
   frequency>]            [-clear]  [-crypt]  <directory to
         +
   check> 

DESCRIPTION

   Initializes  the  client  portion  of the Update Server.  It
   checks  periodically  that  the  files  in   the   specified
   directories  on  the  local machine match those files in the
   corresponding directory on the source machine.   If  a  file
   does  not match, this process overwrites the local file with
   the file from the source machine.

   The  -clear  and  -crypt  flags  determine  whether  or  not
   upclient  requests that upserver encrypt the contents of the
   files it is distributing before transferring them across the
   network.      The  request  applies  to  the  files  in  all
   directories requested by upclient (whereas upserver supports
   different  levels  of encryption for different directories).
   The upserver will comply with a request only if it  protects
   the  directory  to  the  same  extent  as  specified  in its
   initialization command (i.e., will not  fill  an  upclient's
   request  for  -clear  transfer  if  the  upserver is set for
   -crypt).

   By default, the upclient in the United States edition of AFS
   requests  encryption.    The  upclient  in the international
   edition of AFS does  not  request  encryption,  because  the
   international    edition   does   not   provide   encryption
   capability.   The  -crypt  flag  is  not  available  in  the
   international edition of this command.

WARNING

   This  command  is  not  normally issued at the command shell
   prompt, but rather  placed  into  a  file  server  machine's
   /usr/afs/local/BosConfig with the bos create command.  If it
   is ever issued at the command shell prompt, the issuer  must
   be  working  on a file server machine.  The upclient process
   uses the local KeyFile when generating a  key  for  mutually
   authenticating   with  the  upserver  process;  they  always
   mutually authenticate, whether or not the data they pass  is
   encrypted.

   This  command does not use the syntax conventions of the AFS
   command suites, so the command  and  switch  names  must  be
   typed in full.

   The  -crypt  flag  is  not  available  in  the international
   edition of AFS.

   Cells using the international edition of AFS should not  use
   the   Update   Server   to   distribute   the   contents  of
   /usr/afs/etc.  The contents of this directory are sensitive,
   and  the  international  edition of AFS does not provide any



   facility for encrypting files  before  transfer  across  the
   network.

ARGUMENTS

   source machine
                names either the cell's system control  machine
                (if  directory to check is /usr/afs/etc) or the
                binary  distribution  machine  for  the   local
                machine's   CPU/operating   system   type   (if
                directory to check is /usr/afs/bin).

   -t           specifies how often the upclient process should
                check directory to check, in number of seconds.
                If omitted, this argument  default  to  300  (5
                minutes).    This number effectively determines
                how long it  will  take  for  changes  made  on
                source machine to propagate to this machine.

   -clear       indicates  that  upclient  requests upserver to
                transfer information in unencrypted form.   Use
                this  flag to change the default for the United
                States edition of AFS.

   -crypt       indicates that upclient  requests  upserver  to
                transfer  information  in encrypted form.  With
                the United States edition of AFS, use this flag
                to  set  the  default explicitly.  This flag is
                not available with the international edition of
                AFS.

   directory to check
                names each  directory  to  check  for  modified
                files.  The usual choices are:

                   - /usr/afs/bin,   in   which  case  the
                     recommended  name  for  the   process
                     (assigned with the -instance argument
                     on bos create) is upclientbin.    The
                     source  machine  should be the binary
                     distribution machine  for  the  local
                     machine's  CPU/operating system type.
                     It is  recommended  that  the  -clear
                     flag  be used for /usr/afs/bin, since
                     binaries   are    not    particularly
                     sensitive  and  encrypting  them  can
                     take a long time.

                   - /usr/afs/etc,  in  which   case   the
                     recommended   name  for  the  process
                     (assigned with the -instance argument
                     on  bos create)  is upclientetc.  The
                     source machine should be  the  system
                     control machine.

                     Note:  This option is discouraged for
                     the  international  edition  of  AFS.
                     See the WARNING above.

                   - both  /usr/afs/bin  and /usr/afs/etc,
                     in which case  the  recommended  name



                     for  the  process  (assigned with the
                     -instance argument on bos create)  is
                     upclient.   The source machine should
                     be the  system  control  machine  and
                     also  the binary distribution machine
                     for  this   machine's   CPU/operating
                     system type.

                     Note:  This option is discouraged for
                     the  international  edition  of  AFS.
                     See the WARNING above.

EXAMPLES

   The following bos create command creates an upclient process
   on fs4.transarc.com that refers to fs1.transarc.com  as  the
   source   for   both   /usr/afs/bin  and  /usr/afs/etc  (thus
   fs1.transarc.com is both the system control machine and  the
   binary  distribution  machine  of  fs4.transarc.com's type).
   The updates are transferred every 120 seconds.  The  command
   requests  /usr/afs/bin  in  unencrypted  form.   It does not
   specify a level  of  encryption  for  /usr/afs/etc,  so  the
   default is used:

      - with  the  United  States edition of AFS, upclient
        requests /usr/afs/etc in encrypted form.

      - with the international edition  of  AFS,  upclient
        requests /usr/afs/etc in unencrypted form, because
        encryption of user-level  data  is  not  possible.
        Thus,  this  command  is  not  suitable  with  the
        international editionMthe Update Server should not
        be used to update /usr/afs/etc.

   Type the command on a single line.

   % bos create fs4.transarc.com upclient simple
   "/usr/afs/bin/upclient           fs1.transarc.com -t 120
   /usr/afs/etc -clear /usr/afs/bin"

PRIVILEGE REQUIRED

   Issuer must be listed in /usr/afs/etc/UserList to place this
   command in /usr/afs/local/BosConfig,  because  that  is  the
   privilege required to issue bos create.

MORE INFORMATION

   bos create

   upserver
