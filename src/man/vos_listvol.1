vos listvol                AFS Commands             vos listvol


NAME

   vos listvol -- show information from volume header(s).


   vos listvol  -server <machine name>  [-partition <partition
   name>]  [-fast]
   [-long]  [-quiet]  [-cell <cell name>]  [-noauth]
   [-localauth]
   [-verbose]  [-help]

ACCEPTABLE ABBREVIATIONS/ALIASES

   vos listvo  -s <machine name>  [-p <partition name>]  [-f]
   [-lon]  [-q]
   [-c <cell name>]  [-n]  [-loc]  [-v]  [-h]

DESCRIPTION

   Formats  and  displays information from the volume header of
   the indicated volumes: the volume's name,  volumeID  number,
   type, size and status at the server.

   To display volume header information for:

      - every volume on a file server machine, specify the
        machine's name with -server.

      - every volume at a  particular  site,  provide  the
        file  server  machine  name  with  -server and the
        partition with -partition.

ARGUMENTS

   -server         names a file server  machine.    Abbreviated
                   forms   of  machine  names  may  be  allowed
                   depending on the naming service available at
                   the time the command is issued; see page xii
                   in  the  introductory  About   This   Manual
                   chapter.  This argument may be combined with
                   -partition.

   -partition      names a partition.  In addition to the  full
                   /vicepx  form  of  a  partition  name, three
                   shorter forms are acceptable; see  page  xii
                   in   the   introductory  About  This  Manual
                   chapter.    The  -server  argument  must  be
                   provided along with this argument.

   -fast           indicates  that  the  output  should display
                   only the volumeID numbers of all volumes  at
                   the indicated location.

   -long           indicates that the output should include the
                   IDs  of  all  volumes  associated  with  the
                   volume,   the   ReadWrite   volume's  quota,
                   creation date and  update  date.    See  the
                   Output section below.

   -quiet          suppresses  the  lines  that  appear  at the
                   beginning and end of the output, which total



                   the number of volumes listed.

   -cell           specifies  the  cell  in  which  to  run the
                   command.  See section 8.3 in  the  Reference
                   Manual for more details.  -noauth
                   tells the Volume and Volume Location Servers
                   to  assign  the  identity  anonymous  to the
                   issuer.  See section 8.3  in  the  Reference
                   Manual for more details.  -localauth
                   constructs a server ticket using a key  from
                   /usr/afs/etc/KeyFile.    See  section 8.3 in
                   the  Reference  Manual  for  more   details.
                   -verbose
                   tells the Volume and Volume Location Servers
                   to  report  on  what  they are doing as they
                   execute the command.  See section 8.3 in the
                   Reference Manual for more details.  -help
                   prints the online help for this command.  Do
                   not  provide  any  other  arguments or flags
                   with this one.    See  section  8.3  in  the
                   Reference Manual for more details.

OUTPUT

   By  default,  the  output  puts  the volumes in alphabetical
   order by name and lists for each volume:

      - the volume name.

      - the volumeID number.

      - the type (possible values: RW  for  ReadWrite,  RO
        for ReadOnly and BK for Backup).

      - the current size in Kbytes.

      - the status at the server.  The possible values are
        On-line,  Off-line  and  needs salvage.    On-line
        indicates  that  the volume is accessible, whereas
        the other two indicate a possible problem with the
        volume.    See section 8.2 in the Reference Manual
        for further details.

   The first line of the output tells how many  volumes  appear
   in  the  listing,  and  the  last line how many of those are
   on-line, off-line and busy.  These lines do  not  appear  if
   the -quiet flag is used.

   If the -fast flag is added, the output lists only the volume
   ID number of each volume, arranged in  increasing  numerical
   order, and omits the last line.

   If  the  -long flag is added, the output includes all of the
   information in the default listing and  adds  the  following
   for each volume.

      - the site (file server machine and partition)

      - the  Parent  (ReadWrite),  Clone  (ReleaseClone or
        Backup) and Backup volume IDs associated with  the
        volume.    One  should  match the regular volumeID



        number.  See section 8.2 in the  Reference  Manual
        for  a  more  complete  explanation.   the maximum
        quota  allotted  to  the  ReadWrite  copy  of  the
        volume, in kilobytes

      - the  creation  date.    If  the  volume  has  been
        restored         with          backup diskrestore,
        backup volrestore  or  vos   restore,  this is the
        restore time.

      - the update date, when the contents of this  volume
        last  changed.    For ReadOnly and Backup volumes,
        this should match the creation date.

      - the number of times the volume has  been  accessed
        since the later of

           * 12:00 a.m. on the day the command is issued

           * the last time the volume changed location

        An access is defined as a fetch or store operation
        on any file system object stored in the volume.

EXAMPLES

   The following shows selected parts of  the  default  listing
   for the /vicepb partition on fs2.transarc.com.

       % vos listvol fs2.transarc.com b
       Total number of volumes on server fs2.transarc.com
                                     \ partition /vicepb :
       sys                   1969534847 RW       1582 K On-
       sys.backup            1969535105 BK       1582 K On-
             .                    .     .         .   .
             .                    .     .         .   .
       user.pat              1969534536 RW      17518 K On-
       user.pat.backup       1969534538 BK      17537 K On-
       Total volumes onLine 66 ; Total volumes offLine 0 ;
                                                  Total bus

   The following shows the output when the -fast flag is added.

       % vos listvol fs2.transarc.com b -fast
       Total number of volumes on server fs2.transarc.com
                                       partition /vicepb :
        1969516782
        1969516784
            .
            .
        1969535796
       Total volumes onLine 66 ; Total volumes offLine 0 ;
                                                  Total bus



   The following shows two volumes from the output that appears
   when the -long flag is added.

       % vos listvol fs2.transarc.com b -long
       Total number of volumes on server fs2.transarc.com
                                     \ partition /vicepb :
             .                   .      .         .   .
             .                   .      .         .   .
       user.pat              1969534536 RW      17518 K On-
            fs2.transarc.com /vicepb
            Parent 1969534536 Clone 0          Backup 19695
            MaxQuota      20000 K
            Creation    Mon Jun 12 09:02:25 1989
            Last Update Thu Jan  4 17:39:34 1990
            1573 accesses in the past day
       user.pat.backup       1969534538 BK      17537 K On-
            fs2.transarc.com /vicepb
            Parent 1969534536 Clone 0          Backup 19695
            MaxQuota      20000 K
            Creation    Fri Jan  5 06:37:59 1990
            Last Update Fri Jan  5 06:37:59 1990
            0 accesses in the past day
              .                   .      .         .   .
              .                   .      .         .   .
       Total volumes onLine 66 ; Total volumes offLine 0 ;
                                                  Total bus

PRIVILEGE REQUIRED

   None.

MORE INFORMATION

   backup diskrestore

   backup volrestore

   vos examine vos listvldb vos restore
