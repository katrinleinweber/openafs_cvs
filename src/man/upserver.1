upserver                   AFS Commands                upserver


NAME

   upserver -- initialize server portion of Update Server.


                                      +                      +
   /usr/afs/bin/upserver  [<directory> ]  [-crypt <directory> ]
                                           +
                        [-clear <directory> ]

DESCRIPTION

   Initializes   the   server  portion  of  the  Update  Server
   (upserver process),  specifying  which  of  its  local  disk
   directories the process is willing to distribute in response
   to requests from the client portion  of  the  Update  Server
   (upclient  process)  running  on  other  machines.    If  no
   directories are specified, the server portion can distribute
   the contents of any directory on its local disk.

   The  command also determines whether the upserver is willing
   to distribute a directory's contents in unencrypted form  or
   not.    By  default, the encryption level is -clear, meaning
   that  upserver  transfers  the   directory's   contents   in
   unencrypted  form  unless  an  upclient requests encryption.
   When -crypt is specified for a directory, the upserver  will
   refuse an upclient's request for unencrypted transfer.  With
   the United States edition of AFS, the effect of -crypt is to
   guarantee  that  upserver  transfers  a directory's contents
   only in encrypted form.  With the international edition, the
   effect   of   -crypt   is  to  prevent  upserver  from  ever
   transferring the directory's contents, because the  upclient
   has  no  way  to comply with the requirement that it request
   the contents in encrypted form (the -crypt flag on  upclient
   is  not available in the international edition).  Use -crypt
   and -clear to toggle the level of encryption for directories
   as appropriate (the EXAMPLES section illustrates their use).

WARNING

   This  command  is  not  normally issued at the command shell
   prompt, but rather  placed  into  a  file  server  machine's
   /usr/afs/local/BosConfig with the bos create command.  If it
   is ever issued at the command shell prompt, the issuer  must
   be  working  on a file server machine.  The upserver process
   uses the local  KeyFile  when  handling  keys  for  mutually
   authenticating  with  the  upclient  process  and encrypting
   data.   The  two  processes  always  mutually  authenticate,
   whether or not data is encrypted.

   This  command does not use the syntax conventions of the AFS
   command suites, so the command  and  switch  names  must  be
   typed in full.

   Cells  using the international edition of AFS should not use
   the  Update   Server   to   distribute   the   contents   of
   /usr/afs/etc.  The contents of this directory are sensitive,
   and the international edition of AFS does  not  provide  any
   facility  for  encrypting  them  before  transfer across the
   network.  One way to prevent this distribution  is  to  mark
   /usr/afs/etc with -crypt.



ARGUMENTS

   directory names   each   directory   to  be  distributed  in
             unencrypted form (because they appear  before  the
             first  -crypt  or  -clear  flag).  If omitted, all
             directories  on  the  machine's  local  disk   are
             eligible for distribution.

   -crypt    precedes  a  list of one or more directories which
             upserver will distribute only in encrypted form.

   -clear    precedes a list of one or more  directories  which
             upserver  may  distribute in unencrypted form (but
             if upclient requests them in encrypted form,  then
             upserver   encrypts   them).    This  argument  is
             necessary only if the issuer has  previously  used
             -crypt  on  the  command line and wishes to switch
             back to unencrypted form.

EXAMPLES

   The last parameter (enclosed in  quotes)  in  the  following
   bos   create  command  causes  the  upserver  to  distribute
   /usr/afs/bin  in  unencrypted  form  and   /usr/afs/etc   in
   encrypted form.

   % bos create fs1.transarc.com upserver simple
   "/usr/afs/bin/upserver /usr/afs/bin -crypt /usr/afs/etc"

PRIVILEGE REQUIRED

   Issuer must be listed in /usr/afs/etc/UserList to place this
   command in /usr/afs/local/BosConfig,  because  that  is  the
   privilege required to issue bos create.

MORE INFORMATION

   bos create

   upclient
